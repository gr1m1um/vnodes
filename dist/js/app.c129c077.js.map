{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/mixins/drag.js","webpack:///./src/demo/Benchmark.vue?0c9f","webpack:///./src/demo/Demo.vue?e3d9","webpack:///./src/demo/Ports.vue?3b80","webpack:///./src/graph.js","webpack:///./src/components/Group.vue?dee6","webpack:///./src/components/Edge.vue?626e","webpack:///src/components/Edge.vue","webpack:///./src/components/Edge.vue?5a8e","webpack:///./src/components/Edge.vue","webpack:///./src/components/Screen.vue?a318","webpack:///./src/components/Markers.vue?c7b3","webpack:///src/components/Markers.vue","webpack:///./src/components/Markers.vue?adde","webpack:///./src/components/Markers.vue","webpack:///src/components/Screen.vue","webpack:///./src/components/Screen.vue?b527","webpack:///./src/components/Screen.vue","webpack:///./src/demo/Demo.vue?2ab9","webpack:///./src/demo/Sink.vue?e561","webpack:///./src/demo/SinkSidebar.vue?1040","webpack:///src/demo/SinkSidebar.vue","webpack:///./src/demo/SinkSidebar.vue?5269","webpack:///./src/demo/SinkSidebar.vue","webpack:///./src/components/Group.vue?2b24","webpack:///src/components/Group.vue","webpack:///./src/components/Group.vue?ded4","webpack:///./src/components/Group.vue","webpack:///src/demo/Sink.vue","webpack:///./src/demo/Sink.vue?df3c","webpack:///./src/demo/Sink.vue","webpack:///./src/demo/Edit.vue?2124","webpack:///./src/demo/Edit.vue?2450","webpack:///./src/demo/Edit.vue","webpack:///./src/demo/Ports.vue?6e42","webpack:///./src/components/Port.vue?d9f0","webpack:///src/components/Port.vue","webpack:///./src/components/Port.vue?9d07","webpack:///./src/components/Port.vue","webpack:///src/demo/Ports.vue","webpack:///./src/demo/Ports.vue?6500","webpack:///./src/demo/Ports.vue","webpack:///./src/demo/Labels.vue?5e6c","webpack:///./src/components/Label.vue?ddee","webpack:///src/components/Label.vue","webpack:///./src/components/Label.vue?9b8f","webpack:///./src/components/Label.vue","webpack:///src/demo/Labels.vue","webpack:///./src/demo/Labels.vue?1215","webpack:///./src/demo/Labels.vue","webpack:///./src/demo/Benchmark.vue?9f71","webpack:///src/demo/Benchmark.vue","webpack:///./src/demo/Benchmark.vue?c6d1","webpack:///./src/demo/Benchmark.vue","webpack:///./src/demo/Styles.vue?6bbe","webpack:///src/demo/Styles.vue","webpack:///./src/demo/Styles.vue?882a","webpack:///./src/demo/Styles.vue","webpack:///./src/demo/Groups.vue?007a","webpack:///src/demo/Groups.vue","webpack:///./src/demo/Groups.vue?2cb8","webpack:///./src/demo/Groups.vue","webpack:///src/demo/Demo.vue","webpack:///./src/demo/Demo.vue?3cb6","webpack:///./src/demo/Demo.vue","webpack:///./src/main.js","webpack:///./src/components/Node.vue?22f2","webpack:///./src/demo/Groups.vue?0637","webpack:///./src/demo/Labels.vue?9e2b","webpack:///./src/demo/Edit.vue?d8bc","webpack:///./src/components/Screen.vue?167e","webpack:///./src/components/Port.vue?fd8d","webpack:///src/demo/Edit.vue","webpack:///./src/demo/Groups.vue?4fd2","webpack:///./src/components/Label.vue?e39b","webpack:///./src/components/Edge.vue?5a10","webpack:///./src/components/Node.vue?9350","webpack:///src/components/Node.vue","webpack:///./src/components/Node.vue?d9d0","webpack:///./src/components/Node.vue","webpack:///./src/util.js","webpack:///./src/demo/Demo.vue?f096"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","props","dragThreshold","type","Number","default","drag","zoom","active","prev","x","y","threshold","crossed","methods","preventClicks","e","this","preventDefault","stopPropagation","stopImmediatePropagation","document","removeEventListener","startDrag","parent","$parent","panzoom","getZoom","clientX","clientY","addEventListener","stopDrag","applyDrag","Math","abs","$emit","beforeDestroy","Graph","nodes","edges","node","dir","spacing","invertOffset","find","id","pos","util","findPosition","updateNode","dag","createDAG","visited","findPos","collisions","filter","children","forEach","parentIds","Error","layout","flextree","flipH","roots","root","graph","offsetX","offsetY","dagToFlextree","tree","hierarchy","invertX","invertY","applyChanges","pop","fields","assign","uuidv4","width","height","index","indexOf","from","to","arguments","edge","fromAnchor","toAnchor","pathd","otherNode","dx","dy","offset","sqrt","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","path","staticRenderFns","required","Array","mounted","$set","computed","fromNode","toNode","snap","x1","vec","radius","y1","x2","y2","distX","distY","parseAnchor","anchor","align","endsWith","rectIntersect","intersections","component","ref","markers","_t","_l","marker","scale","style","_e","all","options","components","Markers","dblClickZoomEnabled","mouseWheelZoomEnabled","preventMouseEventsDefault","fit","contain","center","zoomScaleSensitivity","minZoom","maxZoom","onZoom","onPan","onUserZoom","onUserPan","onDoubleClick","onUpdatedCTM","zoomRect","zoomNode","panNode","zoomTo","pan","max","left","marginX","right","top","marginY","bottom","zoomNodes","padding","staticStyle","_v","_m","$refs","sidebar","filterNodes","on","toggleGroupNodes","directives","rawName","expression","domProps","$event","target","composing","graphText","$$selectedVal","selected","map","val","_value","graphType","multiple","graphDir","connType","edgeSnap","graphNodesFilter","graphNodes","isArray","groupNodes","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","minX","margin","minY","onMousedown","mixins","disableDrag","$on","maxX","maxY","contentMargin","Screen","Node","Edge","Group","SinkSidebar","bool","select","blockEvents","class","selection","refInFor","isSelected","textSelect","useDrag","_s","html","theme","lineWrapping","scrollbarStyle","styleActiveLine","line","model","callback","editText","input","getInputEdges","evt","startConnect","createConnect","output","getOutputEdges","String","startOffset","edgesFrom","edgesTo","updatePosition","el","offsetWidth","offsetHeight","classList","contains","offsetLeft","offsetTop","offsetParent","watch","Port","connecting","mousePrev","createEdge","fromPort","toPort","screen","isValidConnection","activeEdge","stopConnect","cancelConnect","removeEdge","$nextTick","onmousemove","ports","createNode","inputs","outputs","parseInt","perc","rotate","connector","onDrag","contents","resizeLabel","Boolean","angle","getPosition","getPointAtLength","atan2","delta","updateNodePos","nodeTransform","deep","handler","VLabel","label","fitContent","min","nodeCount","makeGraph","reset","random","animate","stats","begin","requestAnimationFrame","end","setMode","domElement","setProperty","fps","appendChild","visible","applyTheme","forceRender","includes","Sink","Edit","Ports","Labels","Benchpress","Styles","Groups","Vue","config","productionTip","h","Demo","$mount","codemirror","obj","edit","console","log","pz","background","$slots","content","sep","sepX","sepY","startX","startY","alignV","alignH","boxes","box","cols","boxBoxes","col","boxBox","a","b","_nodes","removeCycles","cycles","unvisited","state","visiting","visit","child","flipXY","entry","size","eps","between","lineLine","x3","y3","x4","y4","isNaN"],"mappings":"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","file":"js/app.c129c077.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vnodes/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/**\n * Adds drag behavior to Vue component\n * @drag event emmited\n */\nexport default {\n  props: {\n    dragThreshold: {\n      type: Number,\n      default: 10\n    }\n  },\n  data () {\n    return {\n      drag: {\n        zoom: 1,\n        active: false,\n        prev: { x: 0, y: 0 },\n        threshold: { x: 0, y: 0, crossed: false }\n      }\n    }\n  },\n  methods: {\n    preventClicks (e) {\n      if (this.drag.threshold.crossed) {\n        e.preventDefault()\n        e.stopPropagation()\n        e.stopImmediatePropagation()\n        document.removeEventListener('click', this.preventClicks, true)\n      }\n    },\n    startDrag (e) {\n      let parent = this.$parent\n      while (parent) {\n        if (parent.panzoom) {\n          this.drag.zoom = parent.panzoom.getZoom()\n          break;\n        }\n        parent = parent.$parent\n      }\n      this.drag.active = true\n      this.drag.prev = { x: e.clientX, y: e.clientY }\n      this.drag.threshold = {x: 0, y: 0, crossed: false}\n      document.addEventListener('mouseup', this.stopDrag)\n      document.addEventListener('mousemove', this.applyDrag)\n      document.addEventListener('click', this.preventClicks, true)\n    },\n    stopDrag () {\n      this.drag.active = false\n      document.removeEventListener('mouseup', this.stopDrag)\n      document.removeEventListener('mousemove', this.applyDrag)\n    },\n    applyDrag (e) {\n      let x = (e.clientX - this.drag.prev.x) / this.drag.zoom\n      let y = (e.clientY - this.drag.prev.y) / this.drag.zoom\n      this.drag.prev = {x: e.clientX, y: e.clientY}\n\n\n      if (!this.drag.threshold.crossed) {\n        if (Math.abs(this.drag.threshold.x) < this.dragThreshold && Math.abs(this.drag.threshold.y) < this.dragThreshold) {\n          this.drag.threshold.x += x\n          this.drag.threshold.y += y\n          return // don't apply drag until threshold is reached\n        } else {\n          this.drag.threshold.crossed = true\n          x += this.drag.threshold.x\n          y += this.drag.threshold.y\n        }\n      }\n\n      this.$emit('drag', { x, y })\n    },\n  },\n  beforeDestroy () {\n    document.removeEventListener('mousemove', this.applyDrag)\n    document.removeEventListener('mouseup', this.stopDrag)\n  },\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Benchmark.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Benchmark.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=style&index=0&id=01f32cc6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=style&index=0&id=01f32cc6&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ports.vue?vue&type=style&index=0&id=4660697d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ports.vue?vue&type=style&index=0&id=4660697d&scoped=true&lang=css&\"","import { v4 as uuidv4 } from 'uuid'\nimport util from './util'\nimport { flextree } from 'd3-flextree'\n\nexport default class Graph {\n  constructor () {\n    this.nodes = []\n    this.edges = []\n  }\n\n  positionNode ({ node, parent, dir = 'right', spacing = 40, invertOffset = false } = {}) {\n    node = typeof node === 'string' ? this.nodes.find(n => n.id === node) : node\n    parent = typeof parent === 'string' ? this.nodes.find(n => n.id === parent) : parent\n    const pos = util.findPosition(node, parent, dir, this.nodes, spacing, invertOffset)\n    this.updateNode(node, { x: pos.x, y: pos.y })\n  }\n\n  // refs\n  // https://gojs.net\n\n  // TODO\n  // dagLoad - set [nodes] and [edges] from dag\n  // dagBuild - builds and saves dag info into nodes\n  // dagBuildEdges - delete all edges and build them from Dag\n  // dagSetParent - change dag parent (string or array[string] => array[string])\n\n  graphNodes ({ nodes, edges, type = 'basic', dir = 'right', spacing = 40 } = {}) {\n    nodes = nodes || this.nodes\n    edges = edges || this.edges\n\n    const dag = util.createDAG(nodes, edges) // removes cycles if any\n    if (!dag.length) {\n      return\n    }\n\n    if (type === 'basic' || type === 'basic-invert') {\n      const visited = {}\n      const findPos = (node, parent) => {\n        if (visited[node.id]) {\n          return\n        }\n        const collisions = nodes.filter(n => !!visited[n.id])\n        const pos = util.findPosition(node, parent, dir, collisions, spacing, type === 'basic-invert')\n        node.x = pos.x\n        node.y = pos.y\n        this.updateNode(node.id, {\n          x: node.x,\n          y: node.y\n        })\n        visited[node.id] = true\n        node.children.forEach(n => findPos(n, node))\n      }\n      dag\n        .filter(node => !node.parentIds.length)\n        .forEach(node => findPos(node, null))\n    } else\n\n    if (type === 'tree') {\n      const layout = flextree()\n      const flipH = (dir === 'left' || dir === 'right')\n      const roots = dag.filter(n => !n.parentIds.length)\n      roots.forEach(root => {\n        const graph = []\n        const offsetX = root.x\n        const offsetY = root.y\n        util.dagToFlextree(root, graph, flipH, spacing)\n        const tree = layout.hierarchy(graph[0])\n        layout(tree)\n        // apply layout to nodes\n        const invertX = dir === 'left' ? -1 : 1\n        const invertY = dir === 'up' ? -1 : 1\n        const applyChanges = n => {\n          this.updateNode(n.data.id, {\n            x: (flipH ? n.y : n.x) * invertX + offsetX,\n            y: (flipH ? n.x : n.y) * invertY + offsetY\n          })\n          n.children && n.children.forEach(applyChanges)\n        }\n        applyChanges(tree)\n      })\n    } else {\n      throw new Error('unknown layout type ' + type)\n    }\n  }\n\n  reset () {\n    while (this.edges.length) { this.edges.pop() }\n    while (this.nodes.length) { this.nodes.pop() }\n  }\n\n  createNode (fields = {}) {\n    if (typeof fields === 'string') {\n      fields = { id: fields } // support a single id string or an object as params\n    }\n    const node = Object.assign({\n      id: uuidv4(),\n      x: 0,\n      y: 0,\n      width: 50,\n      height: 50,\n    }, fields)\n\n    this.nodes.push(node)\n    return node\n  }\n\n  updateNode (node, fields = {}) {\n    if (typeof node === 'string') node = this.nodes.find(n => n.id === node)\n    if (!node) throw new Error(`node ${node} does not exist`)\n    return Object.assign(node, fields)\n  }\n\n  removeNode (node) {\n    const index = this.nodes.indexOf(node)\n    if (index > -1) {\n      this.nodes.splice(index, 1)\n    }\n    return index\n  }\n\n  createEdge (from, to, fields = {}) {\n    if (arguments.length === 1) {\n      // support calling with single argument\n      fields = arguments[0]\n      from = fields.from\n      to = fields.to\n    } else {\n      // support passing node objects instead of ids\n      if (typeof from === 'object') from = from.id\n      if (typeof to === 'object') to = to.id\n    }\n    if (!from) throw new Error('orig required')\n    if (!to) throw new Error('dest required')\n\n    const edge = Object.assign({\n      id: uuidv4(),\n      from,\n      to,\n      fromAnchor: { x: '50%', y: '50%' },\n      toAnchor: { x: '50%', y: '50%' },\n      type: 'linear',\n      pathd: '', // reactive path\n    }, fields)\n\n    this.edges.push(edge)\n    return edge\n  }\n\n  updateEdge (edge, fields) {\n    return Object.assign(edge, fields)\n  }\n\n  removeEdge (edge) {\n    const index = this.edges.indexOf(edge)\n    if (index > -1) {\n      this.edges.splice(index, 1)\n    }\n    return index\n  }\n\n  reorderGraph() {\n    for(let i = 0; i < 200; i++){\n      let n = 0\n      for(let node of this.nodes){\n        for (let otherNode of this.nodes) {\n          if(otherNode.id === node.id){\n            continue\n          }\n          else{\n            // distance(offset) between two nodes\n            let dx = otherNode.x - node.x;\n            let dy = otherNode.y - node.y;\n            let offset = Math.sqrt(dx * dx + dy * dy);\n            // if nodes is linked\n            if(this.edges.find(edge => {\n              return (edge.to === node.id && edge.from === otherNode.id) ||\n                     (edge.from === node.id && edge.to === otherNode.id)\n            })){\n              if(offset < 500){\n                if (offset < 400) {\n                  if (offset < 200) {\n                    // if linked nodes is so close, up distance between them\n                    node.x -= dx;\n                    node.y -= dy;\n                  } else {\n                    node.x -= dx / 3;\n                    node.y -= dy / 3;\n                  }\n                } else {\n                  //if linked nodes have medium distance, make them little closer and up force count\n                  n++\n                  node.x += dx / 6;\n                  node.y += dy / 6;\n                }\n              }\n              else{\n                //if linked nodes have long distance, make them closer\n                node.x += dx / 3;\n                node.y += dy / 3;\n              }\n            }\n            // if nodes isn't linked\n            else{\n              if(offset < 1000){\n                if(offset < 100){\n                  // if unlinked nodes is very close, make them much further\n                  node.x -= dx * 3;\n                  node.y -= dy * 3;\n                }\n                else{\n                  // if unlinked nodes is medium close, make them further\n                  if(offset < 500){\n                    node.x -= dx / 3;\n                    node.y -= dy / 3;\n                  }\n                  else{\n                    // if unlinked nodes is not so close, make them little further\n                    node.x -= dx / 9;\n                    node.y -= dy / 9;\n                  }\n                }\n              }\n              else{\n                // if distance between nodes is so long, up force count\n                n++\n              }\n            }\n          }\n        }\n        // move all nodes to start of coordinates\n        let dx = 0 - node.x\n        let dy = 0 - node.y\n        node.x += dx / 15\n        node.y += dy / 15\n      }\n      //if force of the nodes is 70% of all graph, graph is reorder\n      if(n / (this.nodes.length * this.nodes.length) > 0.7){\n        break\n      }\n    }\n  }\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('path',{staticClass:\"edge\",attrs:{\"d\":_vm.path,\"id\":_vm.data.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <path class=\"edge\" :d=\"path\" :id=\"data.id\">\n  </path>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\nimport util from '../util'\nconst Victor = require('victor');\nexport default {\n  props: {\n    data: { // graph edge referece\n      type: Object,\n      required: true // { from: String|Object, to: String|Object }\n    },\n    nodes: { // graph nodes reference\n      type: Array,\n    }\n  },\n\n  mounted () {\n    if (typeof this.data.id === 'undefined') {\n      this.$set(this.data, 'id', uuidv4())\n    }\n    if (typeof this.data.pathd === 'undefined') {\n      this.$set(this.data, 'pathd', '')\n    }\n  },\n\n  computed: {\n    fromNode: vm => typeof vm.data.from === 'string'\n      ? vm.nodes.find(n => n.id === vm.data.from)\n      : vm.data.from,\n    toNode: vm => typeof vm.data.to === 'string'\n      ? vm.nodes.find(n => n.id === vm.data.to)\n      : vm.data.to,\n    fromAnchor: vm => vm.parseAnchor(vm.data.fromAnchor, vm.fromNode),\n    toAnchor: vm => vm.parseAnchor(vm.data.toAnchor, vm.toNode),\n\n    pos () {\n      let x1 = this.fromNode.x + (this.fromAnchor.x || 0)\n      let y1 = this.fromNode.y + (this.fromAnchor.y || 0)\n      let x2 = this.toNode.x + (this.toAnchor.x || 0)\n      let y2 = this.toNode.y + (this.toAnchor.y || 0)\n\n      if (this.fromAnchor && this.fromAnchor.snap) {\n        if (this.fromAnchor.snap === 'circle') {\n          const radius = Math.max(this.fromNode.width, this.fromNode.height) / 2\n          const vec = new Victor(x2 - x1, y2 - y1).normalize()\n          x1 += vec.x * radius\n          y1 += vec.y * radius\n        }\n        if (this.fromAnchor.snap === 'rect') {\n          const i = this.rectIntersect(x2, x1, y2, y1, this.fromNode)\n          if (i) {\n            x1 = i.x\n            y1 = i.y\n          }\n        }\n      }\n      if (this.toAnchor && this.toAnchor.snap) {\n        if (this.toAnchor.snap === 'circle') {\n          const radius = Math.max(this.toNode.width, this.toNode.height) / 2\n          const vec = new Victor(x2 - x1, y2 - y1).normalize()\n          x2 -= vec.x * radius\n          y2 -= vec.y * radius\n        }\n        if (this.toAnchor.snap === 'rect') {\n          const i = this.rectIntersect(x1, x2, y1, y2, this.toNode)\n          if (i) {\n            x2 = i.x\n            y2 = i.y\n          }\n        }\n      }\n      return { x1, x2, y1, y2 }\n    },\n\n    path () {\n      const pos = Object.assign({}, this.pos)\n      let pathd = `M ${pos.x1},${pos.y1} `\n      const distX = pos.x1 - pos.x2\n      const distY = pos.y1 - pos.y2\n\n      if (this.data.type === 'hsmooth' || this.data.type === 'smooth' && Math.abs(distX) >= Math.abs(distY)) {\n        // add two horizontal control points\n        const c1 = { x: pos.x1 - distX / 2, y: pos.y1 }\n        const c2 = { x: pos.x2 + distX / 2, y: pos.y2 }\n        pathd += ` C ${c1.x},${c1.y} ${c2.x},${c2.y} `\n      }\n      else if (this.data.type === 'vsmooth' || this.data.type === 'smooth' && Math.abs(distY) > Math.abs(distX)) {\n        // add two vertical control points\n        const c1 = { x: pos.x1, y: pos.y1 - distY / 2 }\n        const c2 = { x: pos.x2, y: pos.y2 + distY / 2 }\n        pathd += ` C ${c1.x},${c1.y} ${c2.x},${c2.y} `\n      }\n\n      pathd += ` ${pos.x2} ${pos.y2}`\n      this.data.pathd = pathd;\n      return pathd\n    },\n  },\n  methods: {\n    /**\n     * anchor {\n     *    x,      coordinates of the anchor relative to the node in pixels or percentage\n     *    y,\n     *    align,  'center', 'top', 'bottom'... shorthand for x,y bounding box positioning\n     *    snap,   'circle' or 'rect' snaps to the bounding box or circle\n     * }\n     */\n    parseAnchor(anchor, node) {\n      if (!anchor) return { x: 0, y: 0 }\n      let snap = anchor.snap\n      let align = anchor.align\n      let pos = { x: anchor.x || 0, y: anchor.y || 0 }\n\n      if (typeof anchor === 'string') {\n        if (anchor === 'rect' || anchor === 'circle') {\n          snap = anchor\n          pos = { x: '50%', y: '50%'}\n        } else {\n          align = anchor\n        }\n      }\n\n      if (align) {\n        if (align === 'center') pos = { x: '50%', y: '50%' }\n        else if (align === 'left') pos = { x: 0, y: '50%' }\n        else if (align === 'right') pos = { x: '100%', y: '50%' }\n        else if (align === 'top') pos = { x: '50%', y: 0 }\n        else if (align === 'top-left') pos = { x: 0, y: 0 }\n        else if (align === 'top-right') pos = { x: '100%', y: 0 }\n        else if (align === 'bottom') pos = { x: '50%', y: '100%'}\n        else if (align === 'bottom-left') pos = { x: 0, y: '100%'}\n        else if (align === 'bottom-right') pos = { x: '100%', y: '100%'}\n        else throw new Error('unkown anchor align' + align)\n      }\n\n      if (pos.x.endsWith) { // convert pos string to number\n        pos.x = pos.x.endsWith('%')\n          ? parseInt(pos.x) / 100 * node.width\n          : parseInt(pos.x)\n      }\n      if (pos.y.endsWith) { // convert pos string to number\n        pos.y = pos.y.endsWith('%')\n         ? parseInt(pos.y) / 100 * node.height\n         : parseInt(pos.y)\n      }\n\n      return {\n        x: pos.x,\n        y: pos.y,\n        snap\n      }\n    },\n    rectIntersect(x1, x2, y1, y2, rect) {\n      const box = [ rect.x, rect.y, rect.x + rect.width, rect.y + rect.height]\n      const intersections = [\n        util.lineLine(x1, y1, x2, y2, box[0], box[1], box[0], box[3]), // left\n        util.lineLine(x1, y1, x2, y2, box[0], box[1], box[2], box[1]), // top\n        util.lineLine(x1, y1, x2, y2, box[2], box[1], box[2], box[3]), // right\n        util.lineLine(x1, y1, x2, y2, box[0], box[3], box[2], box[3]) // bottom\n      ].filter(i => i)\n      const start = new Victor(x1, y1)\n      return intersections\n        .map(i => Object.assign(i, { distance: start.distance(new Victor(i.x, i.y)) }))\n        .sort((a, b) => a.distance < b.distance ? 1 : -1) // order intersections by distance\n        .pop()\n    }\n  },\n}\n</script>\n\n<style scoped>\n.edge {\n  stroke-width: 4;\n  stroke: green;\n  /* marker-start: url(#arrow-start) */\n  marker-end: url(#arrow-end);\n  fill: none;\n}\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edge.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edge.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edge.vue?vue&type=template&id=76b384de&scoped=true&\"\nimport script from \"./Edge.vue?vue&type=script&lang=js&\"\nexport * from \"./Edge.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edge.vue?vue&type=style&index=0&id=76b384de&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76b384de\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:\"screen\",staticClass:\"screen\"},[_c('defs',[_c('markers',{attrs:{\"markers\":_vm.markers}})],1),_c('g',[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',_vm._l((_vm.all),function(marker){return _c('g',{key:marker.id},[(marker.type === 'arrow-start')?_c('marker',{attrs:{\"id\":marker.id,\"orient\":\"auto\",\"markerWidth\":13 * marker.scale,\"markerHeight\":13 * marker.scale,\"refX\":1 * marker.scale,\"refY\":5 * marker.scale}},[_c('path',{style:(((marker.style) + \";transform: scale(\" + (marker.scale) + \")\")),attrs:{\"d\":\"M0,5 L10,10 L10,0 L0,5\"}})]):_vm._e(),(marker.type === 'arrow-end')?_c('marker',{attrs:{\"id\":marker.id,\"orient\":\"auto\",\"markerWidth\":13 * marker.scale,\"markerHeight\":13 * marker.scale,\"refX\":9 * marker.scale,\"refY\":5 * marker.scale}},[_c('path',{style:(((marker.style) + \";transform: scale(\" + (marker.scale) + \")\")),attrs:{\"d\":\"M0,0 L0,10 L10,5 L0,0\"}})]):_vm._e()])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<g>\n  <g v-for=\"marker in all\" :key=\"marker.id\">\n    <marker v-if=\"marker.type === 'arrow-start'\"\n      :id=\"marker.id\" orient=\"auto\"\n      :markerWidth=\"13 * marker.scale\"\n      :markerHeight=\"13 * marker.scale\"\n      :refX=\"1 * marker.scale\"\n      :refY=\"5 * marker.scale\">\n        <path d=\"M0,5 L10,10 L10,0 L0,5\" :style=\"`${marker.style};transform: scale(${marker.scale})`\"/>\n    </marker>\n    <marker v-if=\"marker.type === 'arrow-end'\"\n      :id=\"marker.id\" orient=\"auto\"\n      :markerWidth=\"13 * marker.scale\"\n      :markerHeight=\"13 * marker.scale\"\n      :refX=\"9 * marker.scale\"\n      :refY=\"5 * marker.scale\">\n        <path d=\"M0,0 L0,10 L10,5 L0,0\" :style=\"`${marker.style};transform: scale(${marker.scale})`\"/>\n    </marker>\n  </g>\n</g>\n</template>\n\n<script>\nconst defaults = [{\n  id: 'arrow-start',\n  type: 'arrow-start',\n  scale: 0.5,\n  style: 'fill: green'\n},\n{\n  id: 'arrow-end',\n  type: 'arrow-end',\n  scale: 0.5,\n  style: 'fill: green'\n}]\n\nexport default {\n  props: {\n    // array of marker objects { id:String, type:String, scale:Number, style:String }\n    markers: Array\n  },\n  computed: {\n    all () {\n      return this.markers\n        .concat(defaults)\n        .map(marker => {\n          const base = defaults.find(d => d.type === marker.type)\n          if (!base) {\n            console.error('unknown marker', marker)\n          } else {\n            return Object.assign({}, base, marker)\n          }\n        })\n        .filter(marker => marker)\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Markers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Markers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Markers.vue?vue&type=template&id=7f4e911a&\"\nimport script from \"./Markers.vue?vue&type=script&lang=js&\"\nexport * from \"./Markers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <svg class=\"screen\" ref=\"screen\">\n    <defs>\n      <markers :markers=\"markers\">\n      </markers>\n    </defs>\n    <g>\n      <slot>\n      </slot>\n    </g>\n  </svg>\n</template>\n\n<script>\nimport Markers from './Markers'\nimport SvgPanZoom from 'svg-pan-zoom'\nexport default {\n  props: {\n    markers: {\n      type: Array, // { id:String, type: 'arrow|circle|square|diamond', scale: Number, style: String }\n      default: () => []\n    },\n    options: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  components: {\n    Markers\n  },\n  data() {\n    return {\n      panzoom: null,\n    }\n  },\n  mounted () {\n    this.panzoom = SvgPanZoom(this.$refs.screen, Object.assign({\n      dblClickZoomEnabled: false,\n      mouseWheelZoomEnabled: true,\n      preventMouseEventsDefault: true,\n      fit: false,\n      contain: false,\n      center: false,\n      zoomScaleSensitivity: 0.4,\n      minZoom: 0.1,\n      maxZoom: 5,\n      onZoom: scale => {},\n      onPan: pan => {},\n      onUserZoom: e => {},\n      onUserPan: e => {},\n      onDoubleClick: () => {},\n      onUpdatedCTM: m => {}\n    }, this.options))\n\n    this.panzoom.zoomRect = this.zoomRect\n    this.panzoom.zoomNode = this.zoomNode\n    this.panzoom.panNode = this.panNode\n  },\n  methods: {\n    zoomTo ({x, y, scale}) {\n      this.panzoom.zoom(scale)\n      this.panzoom.pan( x,y )\n    },\n    /**\n     * Centers and zooms a rectangle\n     * @param rect { left, right, top, bottom }\n     * @param scale force zoom to a specific value (eg: 1)\n     */\n    zoomRect (rect, opts = {scale: null}) {\n      let scale = opts.scale\n      const screen = this.$refs.screen\n      const width = rect.right - rect.left\n      const height = rect.bottom - rect.top\n      if (!scale) {\n        const dx = width / screen.clientWidth\n        const dy = height / screen.clientHeight\n        scale = 1 / Math.max(dx, dy)\n      }\n      const x = -rect.left * scale + ((screen.clientWidth / scale - width) / 2) * scale\n      const y = -rect.top * scale + ((screen.clientHeight / scale - height) / 2) * scale\n\n      this.panzoom.zoom(scale)\n      this.panzoom.pan({ x, y })\n    },\n    zoomNode (node) {\n      const screen = this.$refs.screen\n      const marginX = screen.clientWidth / 2 - node.width / 2\n      const marginY = screen.clientHeight / 2 - node.height / 2\n\n      this.zoomRect({\n        left: node.x - marginX,\n        right: node.x + node.width + marginX,\n        top: node.y - marginY,\n        bottom: node.y + node.height + marginY\n      })\n    },\n    /**\n     * centers the view and zoom on a group nodes\n     */\n    zoomNodes (nodes, opts = { padding: 50, scale: null }) {\n      if (!nodes || !nodes.length) {\n        return\n      }\n      const padding = opts.padding || 50\n      const scale = opts.scale\n      let left = Infinity\n      let top = Infinity\n      let right = -Infinity\n      let bottom = -Infinity\n\n      nodes.forEach(node => {\n        if (node.x < left) left = node.x\n        if (node.x + node.width > right) right = node.x + node.width\n        if (node.y < top) top = node.y\n        if (node.y + node.height > bottom) bottom = node.y + node.height\n      })\n\n      this.zoomRect({\n        left: left - padding,\n        top: top - padding,\n        right: right + padding,\n        bottom: bottom + padding,\n      }, { scale })\n    },\n    panNode (node, opts = { offsetX, offsetY }) { // centers node on screen\n      const offsetX = opts.offsetX || 0\n      const offsetY = opts.offsetY || 0\n      const zoom = this.panzoom.getZoom()\n      const x = this.$el.clientWidth / 2 - (node.x + node.width / 2) * zoom + offsetX\n      const y = this.$el.clientHeight / 2 - (node.y + node.height / 2) * zoom + offsetY\n      this.panzoom.pan({ x, y })\n    },\n  },\n}\n</script>\n\n<style scoped>\n#arrow-end {\n  fill: red !important\n}\n.screen {\n  width: 100%;\n  height: 100%;\n  outline: none;\n  border: 1px solid #ccc;\n}\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Screen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Screen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Screen.vue?vue&type=template&id=688d0d2c&scoped=true&\"\nimport script from \"./Screen.vue?vue&type=script&lang=js&\"\nexport * from \"./Screen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Screen.vue?vue&type=style&index=0&id=688d0d2c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"688d0d2c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"50px\",\"margin-bottom\":\"50px\"}},[_c('h1',[_vm._v(\"Vnodes\")]),_vm._m(0),_c('sink'),_vm._m(1),_c('edit'),_vm._m(2),_c('ports'),_vm._m(3),_c('labels'),_vm._m(4),_c('benchpress')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_vm._v(\"\\n      Sink \"),_c('a',{attrs:{\"href\":\"https://github.com/txlabs/vnodes/blob/master/src/demo/Sink.vue\",\"target\":\"_blank\"}},[_vm._v(\"</>\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_vm._v(\"Edit \"),_c('a',{attrs:{\"href\":\"https://github.com/txlabs/vnodes/blob/master/src/demo/Edit.vue\",\"target\":\"_blank\"}},[_vm._v(\"</>\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_vm._v(\"Ports \"),_c('a',{attrs:{\"href\":\"https://github.com/txlabs/vnodes/blob/master/src/demo/Ports.vue\",\"target\":\"_blank\"}},[_vm._v(\"</>\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_vm._v(\"Labels \"),_c('a',{attrs:{\"href\":\"https://github.com/txlabs/vnodes/blob/master/src/demo/Labels.vue\",\"target\":\"_blank\"}},[_vm._v(\"</>\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_vm._v(\"Benchpress \"),_c('a',{attrs:{\"href\":\"https://github.com/txlabs/vnodes/blob/master/src/demo/Benchmark.vue\",\"target\":\"_blank\"}},[_vm._v(\"</>\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo\"},[_c('div',{staticClass:\"viewport\"},[_c('screen',{ref:\"screen\",attrs:{\"markers\":[]}},[(_vm.groupNodes)?_c('group',{attrs:{\"nodes\":_vm.$refs.sidebar.filterNodes || _vm.graph.nodes}}):_vm._e(),_vm._l((_vm.graph.edges),function(edge){return _c('edge',{key:edge.id,attrs:{\"data\":edge,\"nodes\":_vm.graph.nodes}})}),_vm._l((_vm.graph.nodes),function(node){return _c('node',{key:node.id,attrs:{\"data\":node}})})],2)],1),_c('sink-sidebar',{ref:\"sidebar\",staticClass:\"sidebar\",attrs:{\"graph\":_vm.graph},on:{\"toggleGroupNodes\":_vm.toggleGroupNodes}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Graph\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphText),expression:\"graphText\"}],attrs:{\"placeholder\":\"add multiple lines\",\"rows\":\"4\"},domProps:{\"value\":(_vm.graphText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.graphText=$event.target.value}}}),_c('div',[_c('span',[_vm._v(\"type\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphType),expression:\"graphType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.graphType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"basic\"}},[_vm._v(\"basic\")]),_c('option',{attrs:{\"value\":\"basic-invert\"}},[_vm._v(\"invert\")]),_c('option',{attrs:{\"value\":\"tree\"}},[_vm._v(\"tree\")])])]),_c('div',[_c('span',[_vm._v(\"dir \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphDir),expression:\"graphDir\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.graphDir=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"left\"}},[_vm._v(\"left\")]),_c('option',{attrs:{\"value\":\"right\"}},[_vm._v(\"right\")]),_c('option',{attrs:{\"value\":\"up\"}},[_vm._v(\"up\")]),_c('option',{attrs:{\"value\":\"down\"}},[_vm._v(\"down\")])])]),_c('div',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Edges\")]),_c('div',[_c('span',[_vm._v(\"type \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.connType),expression:\"connType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.connType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"linear\"}},[_vm._v(\"linear\")]),_c('option',{attrs:{\"value\":\"smooth\"}},[_vm._v(\"smooth\")]),_c('option',{attrs:{\"value\":\"hsmooth\"}},[_vm._v(\"hsmooth\")]),_c('option',{attrs:{\"value\":\"vsmooth\"}},[_vm._v(\"vsmooth\")])])]),_c('div',[_c('span',[_vm._v(\"snap \")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.edgeSnap),expression:\"edgeSnap\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.edgeSnap=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"anchor\"}},[_vm._v(\"anchor\")]),_c('option',{attrs:{\"value\":\"rect\"}},[_vm._v(\"rect\")]),_c('option',{attrs:{\"value\":\"circle\"}},[_vm._v(\"circle\")])])]),_c('div',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Nodes\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphNodesFilter),expression:\"graphNodesFilter\"}],attrs:{\"type\":\"text\",\"placeholder\":\"a,b,c (nodes filter)\"},domProps:{\"value\":(_vm.graphNodesFilter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.graphNodesFilter=$event.target.value}}})]),_c('button',{on:{\"click\":function () { return _vm.zoomNodes(null, _vm.filterNodes); }}},[_vm._v(\"Zoom Nodes\")]),_c('button',{on:{\"click\":function () { return _vm.graphNodes(_vm.filterNodes); }}},[_vm._v(\"Graph Nodes\")]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"groupNodes\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,null)>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\" Group\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div style=\"font-weight: bold\">Graph</div>\n    <textarea v-model=\"graphText\" placeholder=\"add multiple lines\" rows=\"4\"></textarea>\n    <div>\n      <span>type</span>\n      <select v-model=\"graphType\">\n        <option value=\"basic\">basic</option>\n        <option value=\"basic-invert\">invert</option>\n        <option value=\"tree\">tree</option>\n      </select>\n    </div>\n    <div>\n      <span>dir </span>\n      <select v-model=\"graphDir\">\n        <option value=\"left\">left</option>\n        <option value=\"right\">right</option>\n        <option value=\"up\">up</option>\n        <option value=\"down\">down</option>\n      </select>\n    </div>\n\n    <div style=\"font-weight: bold\">Edges</div>\n    <div>\n      <span>type </span>\n       <select v-model=\"connType\">\n        <option value=\"linear\">linear</option>\n        <option value=\"smooth\">smooth</option>\n        <option value=\"hsmooth\">hsmooth</option>\n        <option value=\"vsmooth\">vsmooth</option>\n      </select>\n    </div>\n    <div>\n      <span>snap </span>\n      <select v-model=\"edgeSnap\">\n        <option value=\"anchor\">anchor</option>\n        <option value=\"rect\">rect</option>\n        <option value=\"circle\">circle</option>\n      </select>\n    </div>\n\n    <div style=\"font-weight: bold\">Nodes</div>\n    <div><input type=\"text\" placeholder=\"a,b,c (nodes filter)\" v-model=\"graphNodesFilter\"></div>\n    <button @click=\"() => zoomNodes(null, filterNodes)\">Zoom Nodes</button>\n    <button @click=\"() => graphNodes(filterNodes)\">Graph Nodes</button>\n    <div>\n      <input type=\"checkbox\" id=\"groupNodes\" v-model=\"groupNodes\">\n      <span> Group</span>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue'\n  export default {\n    props: {\n      graph: { required: true }\n    },\n    data() {\n      return {\n        graphType: 'basic',\n        graphDir: 'right',\n        graphText: 'a/b/c\\nb/d',\n        graphError: '',\n        graphNodesFilter: '',\n        connType: '',\n        groupNodes: false,\n        edgeAlign: '',\n        edgeSnap: '',\n      }\n    },\n    mounted () {\n      this.$nextTick(() => {\n        this.createNodes()\n      })\n    },\n    methods: {\n      centerNodes () {\n        const panzoom = this.$parent.$refs.screen.panzoom\n        this.zoomNodes()\n        if (panzoom.getZoom() > 1) {\n          this.zoomNodes(1) // fix, only allow zoom out\n        }\n      },\n      zoomNodes (scale=null) {\n        let left = Infinity\n        let top = Infinity\n        let right = -Infinity\n        let bottom = -Infinity\n\n        const nodes = this.filterNodes || this.graph.nodes\n        nodes.forEach(node => {\n          if (node.x < left) left = node.x\n          if (node.x + node.width > right) right = node.x + node.width\n          if (node.y < top) top = node.y\n          if (node.y + node.height > bottom) bottom = node.y + node.height\n        })\n\n        left -= 50\n        top -= 50\n        right += 50\n        bottom += 50\n\n        this.$parent.$refs.screen.zoomRect({ left, top, right, bottom }, { scale })\n      },\n      createNodes () {\n        this.graph.reset()\n        const graph = this.parsedGraph\n        const visitNode = (node, parent) => {\n          if (!this.graph.nodes.find(n => n.id === node.id)) {\n            this.graph.createNode(node.id)\n          }\n          if (parent) {\n            if (!this.graph.edges.find(c => c.fromNode === parent.id && c.toNode === parent.id)) {\n              this.graph.createEdge(parent.id, node.id)\n            }\n          }\n          node.children.forEach(c => visitNode(c, node))\n        }\n        graph.forEach(n => visitNode(n))\n        this.graphNodes()\n        this.centerNodes()\n      },\n      graphNodes (filterNodes) {\n        this.graph.graphNodes({\n          nodes: filterNodes || this.graph.nodes,\n          edges: this.graph.edges,\n          type: this.graphType,\n          dir: this.graphDir\n        })\n      }\n    },\n    computed: {\n      filterNodes () {\n        const filtered = this.graphNodesFilter.split(',').map(s => s.trim())\n        const nodes = this.graph.nodes.filter(n => filtered.includes(n.id))\n        return nodes.length ? nodes : null\n      },\n      parsedGraph () {\n        const visited = []\n        const graph = []\n        const lines = this.graphText.split('\\n')\n        lines.forEach(line => {\n          line.split('/').forEach((entry, i, arr) => {\n            const id = entry.trim()\n            if (!id) {\n              return\n            }\n            const pid = i && arr[i - 1].trim()\n            const node = { id, children: [] }\n            const parent = pid && visited.find(n => n.id === pid)\n\n            if (parent) {\n              parent.children.push(node)\n            } else {\n              graph.push(node)\n            }\n\n            visited.push(node)\n          })\n        })\n        return graph\n      },\n    },\n    watch: {\n      parsedGraph () {\n        Vue.nextTick(this.createNodes)\n      },\n      connType (type) {\n        this.graph.edges.forEach(edge => {\n          edge.type = type\n        })\n      },\n      graphDir () {\n        this.graphNodes()\n        this.centerNodes()\n      },\n      graphType () {\n        this.graphNodes()\n        this.centerNodes()\n      },\n      groupNodes (bool) {\n        this.$emit('toggleGroupNodes', bool)\n      },\n      edgeSnap (value) {\n        this.graph.edges.forEach(edge => {\n          this.$set(edge.fromAnchor, 'snap', value)\n          this.$set(edge.toAnchor, 'snap', value)\n        })\n      },\n      edgeAlign (value) {\n        this.graph.edges.forEach(edge => {\n          this.$set(edge.fromAnchor, 'align', value)\n          this.$set(edge.toAnchor, 'align', value)\n        })\n      },\n      anchorX (value) {\n        if (!value) {\n          value = '50%'\n        } else if (!value.endsWith('%')) {\n          value = parseFloat(value)\n        }\n        this.graph.edges.forEach(edge => {\n          edge.fromAnchor.x = value\n          edge.toAnchor.x = value\n        })\n      },\n      anchorY (value) {\n        if (!value) {\n          value = '50%'\n        } else if (!value.endsWith('%')) {\n          value = parseFloat(value)\n        }\n        this.graph.edges.forEach(edge => {\n          edge.fromAnchor.y = value\n          edge.toAnchor.y = value\n        })\n      }\n    },\n  }\n</script>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SinkSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SinkSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SinkSidebar.vue?vue&type=template&id=501dcf53&\"\nimport script from \"./SinkSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./SinkSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('foreignObject',{staticClass:\"group\",attrs:{\"x\":_vm.minX - _vm.padding.left - _vm.margin,\"y\":_vm.minY - _vm.padding.top - _vm.margin,\"width\":_vm.width + (_vm.padding.left + _vm.padding.right) + _vm.margin * 2,\"height\":_vm.height + (_vm.padding.top + _vm.padding.bottom) + _vm.margin * 2},on:{\"mousedown\":_vm.onMousedown}},[_c('div',{ref:\"content\",staticClass:\"content\",style:(_vm.contentMargin)},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <foreignObject\n    class=\"group\"\n    :x=\"minX - padding.left - margin\"\n    :y=\"minY - padding.top - margin\"\n    :width=\"width + (padding.left + padding.right) + margin * 2\"\n    :height=\"height + (padding.top + padding.bottom) + margin * 2\"\n    @mousedown=\"onMousedown\">\n      <div class=\"content\" ref=\"content\" :style=\"contentMargin\">\n        <slot>\n        </slot>\n      </div>\n  </foreignObject>\n</template>\n\n<script>\n/** */\nimport drag from '../mixins/drag'\nexport default {\n  mixins: [\n    drag\n  ],\n  props: {\n    nodes: {\n      type: Array,\n      default: []\n    },\n    margin: {\n      type: Number,\n      default: 20\n    },\n    padding: { // additional area covered by group besides nodes minxy, maxxy\n      type: Object,\n      default: () => ({ left: 10, right: 10, top: 10, bottom: 10 })\n    },\n    disableDrag: false,\n  },\n  mounted () {\n    this.$on('drag', ({ x, y }) => {\n      this.nodes.forEach(node => {\n        node.x += x\n        node.y += y\n      })\n    })\n  },\n  computed: {\n    minX: vm => !vm.nodes.length ? 0 : vm.nodes.reduce((acc, node) => Math.min(acc, node.x), Infinity),\n    maxX: vm => !vm.nodes.length ? 0 : vm.nodes.reduce((acc, node) => Math.max(acc, node.x + node.width), -Infinity),\n    minY: vm => !vm.nodes.length ? 0 : vm.nodes.reduce((acc, node) => Math.min(acc, node.y), Infinity),\n    maxY: vm => !vm.nodes.length ? 0 : vm.nodes.reduce((acc, node) => Math.max(acc, node.y + node.height), -Infinity),\n    width: vm => vm.maxX - vm.minX,\n    height: vm => vm.maxY - vm.minY,\n\n    contentMargin: vm => vm.margin && ({\n      margin: vm.margin + 'px',\n      width: `calc(100% - ${vm.margin * 2}px)`,\n      height: `calc(100% - ${vm.margin * 2}px)`\n    })\n  },\n  methods: {\n    onMousedown (e) {\n      e.stopPropagation()\n      if (!this.disableDrag) {\n        e.preventDefault();\n        this.startDrag(e);\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.group .content {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border-radius: 7px;\n  background-color: rgba(100, 100, 100, .25);\n  display: inline-block;\n}\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Group.vue?vue&type=template&id=7ddb54b4&\"\nimport script from \"./Group.vue?vue&type=script&lang=js&\"\nexport * from \"./Group.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Group.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"demo\">\n    <div class=\"viewport\">\n      <screen ref=\"screen\" :markers=\"[]\">\n        <group v-if=\"groupNodes\" :nodes=\"$refs.sidebar.filterNodes || graph.nodes\">\n        </group>\n\n        <edge v-for=\"edge in graph.edges\" :data=\"edge\" :nodes=\"graph.nodes\" :key=\"edge.id\">\n        </edge>\n\n        <node v-for=\"node in graph.nodes\" :data=\"node\" :key=\"node.id\">\n        </node>\n      </screen>\n    </div>\n    <sink-sidebar class=\"sidebar\" :graph=\"graph\" @toggleGroupNodes=\"toggleGroupNodes\" ref=\"sidebar\">\n    </sink-sidebar>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport SinkSidebar from './SinkSidebar'\nimport Screen from '../components/Screen'\nimport Node from '../components/Node'\nimport Edge from '../components/Edge'\nimport Group from '../components/Group'\nimport graph from '../graph'\n\nexport default {\n  components: {\n    Screen,\n    Node,\n    Edge,\n    Group,\n    SinkSidebar\n  },\n  data() {\n    return {\n      graph: new graph(),\n      groupNodes: false,\n    }\n  },\n  methods: {\n    toggleGroupNodes(bool) {\n      this.groupNodes = bool\n    },\n  },\n}\n</script>\n\n<style>\n</style>\n\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sink.vue?vue&type=template&id=54f3a9b4&\"\nimport script from \"./Sink.vue?vue&type=script&lang=js&\"\nexport * from \"./Sink.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo\",attrs:{\"id\":\"edit-demo\"}},[_c('div',{staticClass:\"viewport\",on:{\"click\":function($event){return _vm.select(null)},\"!mousedown\":function($event){return _vm.blockEvents($event)},\"!wheel\":function($event){return _vm.blockEvents($event)}}},[_c('screen',{ref:\"screen\"},[_vm._l((_vm.graph.edges),function(edge){return _c('g',{key:edge.id,on:{\"click\":function($event){$event.stopPropagation();return _vm.select(edge)}}},[_c('edge',{class:_vm.selection && _vm.selection.id === edge.id && 'selected',attrs:{\"data\":edge,\"nodes\":_vm.graph.nodes}})],1)}),_vm._l((_vm.graph.nodes),function(node){return _c('g',{key:node.id},[_c('node',{ref:\"node\",refInFor:true,class:_vm.isSelected(node) && 'selected',attrs:{\"data\":node,\"textSelect\":node.textSelect,\"useDrag\":node.useDrag}},[_c('div',{domProps:{\"innerHTML\":_vm._s(node.html)},on:{\"click\":function($event){$event.stopPropagation();return _vm.select(node)}}})])],1)})],2)],1),_c('div',{staticClass:\"sidebar\"},[_c('codemirror',{staticStyle:{\"font-size\":\"13.3333px\",\"font-family\":\"monospace\",\"-webkit-text-size-adjust\":\"100%\",\"height\":\"100%\"},attrs:{\"options\":{\n        mode: 'text/javascript',\n        theme: 'default',\n        lineWrapping: true,\n        scrollbarStyle: null,\n        styleActiveLine: true,\n        line: true,\n      }},model:{value:(_vm.editText),callback:function ($$v) {_vm.editText=$$v},expression:\"editText\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=04374e62&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo\",attrs:{\"id\":\"ports-demo\"}},[_c('div',{staticClass:\"viewport\"},[_c('screen',{ref:\"screen\"},[_vm._l((_vm.graph.edges),function(edge){return _c('edge',{key:edge.id,attrs:{\"data\":edge,\"nodes\":_vm.graph.nodes}})}),_vm._l((_vm.graph.nodes),function(node){return _c('node',{key:node.id,ref:\"node\",refInFor:true,attrs:{\"data\":node}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('strong',[_vm._v(_vm._s(node.id))])]),_c('table',[_c('td',_vm._l((node.inputs),function(input){return _c('tr',{key:node.id+':'+input},[_c('port',{ref:\"port\",refInFor:true,attrs:{\"id\":node.id+':'+input,\"edgesTo\":_vm.getInputEdges(node, input)}},[_c('div',{staticClass:\"port-inner\",class:_vm.getInputEdges(node, input).length && 'connected',on:{\"mousedown\":function($event){$event.preventDefault();$event.stopPropagation();return (function (evt) { return _vm.startConnect(node, { input: input }, evt); })($event)},\"mouseup\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createConnect(node, { input: input })}}})]),_vm._v(\"\\n              \"+_vm._s(input.slice(1))+\"\\n            \")],1)}),0),_c('td',_vm._l((node.outputs),function(output){return _c('tr',{key:node.id+':'+output},[_vm._v(\"\\n              \"+_vm._s(output.slice(1))+\"\\n              \"),_c('port',{ref:\"port\",refInFor:true,attrs:{\"id\":node.id+':'+output,\"edgesFrom\":_vm.getOutputEdges(node, output)}},[_c('div',{staticClass:\"port-inner\",class:_vm.getOutputEdges(node, output).length && 'connected',on:{\"mousedown\":function($event){$event.preventDefault();$event.stopPropagation();return (function (evt) { return _vm.startConnect(node, { output: output }, evt); })($event)},\"mouseup\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.createConnect(node, { output: output })}}})])],1)}),0)])])})],2)],1),_c('div',{staticClass:\"sidebar\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"port\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"port\">\n    <slot></slot>\n  </span>\n</template>\n\n<script>\n/**\n * Offsets edges to its position when placed inside a node\n */\nexport default {\n  props: {\n    id: String, // optional id\n    startOffset: Object, // {x, y}, contents center if null\n    edgesFrom: {\n      type: Array,\n      default: () => []\n    },\n    edgesTo: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      offset: { x: 0, y: 0 }\n    }\n  },\n  mounted () {\n    this.updatePosition()\n  },\n  methods: {\n    /**\n     * Calculate html offset of this element\n     * and update edges anchors to this element offset\n     */\n    updatePosition () {\n      let el = this.$slots.default && this.$slots.default.length === 1\n        && this.$slots.default[0].elm && this.$slots.default[0].elm.offsetWidth\n        ? this.$slots.default[0].elm // there is a single valid html el in <slot />\n        : this.$el\n      this.offset = this.startOffset || {\n        x: el.offsetWidth / 2,\n        y: el.offsetHeight / 2,\n      }\n      while (el && !el.classList.contains('content')) {\n        this.offset.x += el.offsetLeft || 0\n        this.offset.y += el.offsetTop || 0\n        el = el.offsetParent\n      }\n      this.edgesFrom.forEach(edge => {\n        Object.assign(edge.fromAnchor, this.offset)\n      })\n      this.edgesTo.forEach(edge => {\n        Object.assign(edge.toAnchor, this.offset)\n      })\n    }\n  },\n  watch: {\n    edgesFrom: 'updatePosition',\n    edgesTo: 'updatePosition',\n  },\n}\n</script>\n\n<style>\n.port {\n  position: relative;\n}\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Port.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Port.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Port.vue?vue&type=template&id=445d95fa&\"\nimport script from \"./Port.vue?vue&type=script&lang=js&\"\nexport * from \"./Port.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Port.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"demo\" id=\"ports-demo\">\n    <div class=\"viewport\">\n      <screen ref=\"screen\">\n        <edge v-for=\"edge in graph.edges\"\n          :data=\"edge\"\n          :nodes=\"graph.nodes\"\n          :key=\"edge.id\"\n        ></edge>\n        <node :data=\"node\" ref=\"node\" v-for=\"node in graph.nodes\" :key=\"node.id\">\n          <div style=\"text-align: center\"><strong>{{ node.id }}</strong></div>\n          <table>\n            <td>\n              <tr v-for=\"input in node.inputs\" :key=\"node.id+':'+input\">\n                  <port ref=\"port\"\n                    :id=\"node.id+':'+input\"\n                    :edgesTo=\"getInputEdges(node, input)\">\n                      <div class=\"port-inner\"\n                        @mousedown.prevent.stop=\"evt => startConnect(node, { input }, evt)\"\n                        @mouseup.prevent.stop=\"createConnect(node, { input })\"\n                        :class=\"getInputEdges(node, input).length && 'connected'\">\n                      </div>\n                  </port>\n                {{ input.slice(1) }}\n              </tr>\n            </td>\n            <td>\n              <tr v-for=\"output in node.outputs\" :key=\"node.id+':'+output\">\n                {{ output.slice(1) }}\n                <port ref=\"port\"\n                  :id=\"node.id+':'+output\"\n                  :edgesFrom=\"getOutputEdges(node, output)\">\n                    <div class=\"port-inner\"\n                      @mousedown.prevent.stop=\"evt => startConnect(node, { output }, evt)\"\n                      @mouseup.prevent.stop=\"createConnect(node, { output })\"\n                      :class=\"getOutputEdges(node, output).length && 'connected'\">\n                    </div>\n                </port>\n              </tr>\n            </td>\n          </table>\n        </node>\n      </screen>\n    </div>\n    <div class=\"sidebar\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport Screen from '../components/Screen'\nimport Node from '../components/Node'\nimport Edge from '../components/Edge'\nimport Port from '../components/Port'\nimport graph from '../graph'\nexport default {\n  components: {\n    Screen,\n    Node,\n    Edge,\n    Port\n  },\n  data() {\n    return {\n      graph: new graph(),\n      connecting: null, // { node: {}, input: str, output: str }\n      mousePrev: { x: 0, y: 0 },\n      zoom: 1\n    }\n  },\n  methods: {\n    startConnect (node, {input, output }, evt) {\n      if (this.connecting) return\n      const port = this.$refs.port\n        .find(p => p.id === `${node.id}:${input || output}`)\n\n      const edge = input && this.getInputEdges(node, input).reverse()[0]\n      if (edge) { // edit exiting edge\n        edge.active = true\n        this.connecting = {\n          node: this.graph.nodes.find(n => input ? edge.from === n.id : edge.to === n.id),\n          input: output,\n          output: input\n        }\n      } else { // new edge\n        this.graph.createEdge({\n          from: node.id,\n          to: node.id,\n          fromPort: input || output,\n          toPort: input || output,\n          fromAnchor: { ...port.offset },\n          toAnchor: { ...port.offset },\n          active: true,\n          type: 'hsmooth'\n        })\n        this.connecting = {\n          node, input, output\n        }\n      }\n\n      this.mousePrev = { x: evt.clientX, y: evt.clientY }\n      this.zoom = this.$refs.screen.panzoom.getZoom()\n    },\n    createConnect (node, {input, output}) {\n      if (!this.connecting) return\n      if (this.isValidConnection({node, input, output}, this.connecting)) {\n        if (input) {\n          this.activeEdge.to = node.id\n          this.activeEdge.toPort = input\n        } else if (output) {\n          this.activeEdge.from = node.id\n          this.activeEdge.fromPort = output\n        }\n        this.stopConnect()\n      } else {\n        this.cancelConnect()\n      }\n    },\n    cancelConnect () {\n      if (!this.connecting) return\n      this.graph.removeEdge(this.activeEdge)\n      this.stopConnect()\n    },\n    stopConnect () {\n      if (this.activeEdge) {\n        this.activeEdge.active = false\n      }\n      this.$nextTick(() => {\n        this.connecting = null\n      })\n    },\n    isValidConnection (conA, conB) {\n      return (conA && conB && conA.node && conB.node)\n       && (conA.node !== conB.node)\n       && (conA.input && conB.output || conB.input && conA.output)\n    },\n    // edges that go to this input\n    getInputEdges (node, input) {\n      return this.graph.edges\n        .filter(e => e.to === node.id && e.toPort === input)\n    },\n    // edges that start from this output\n    getOutputEdges (node, output) {\n      return this.graph.edges\n        .filter(e => e.from === node.id && e.fromPort === output)\n    },\n    onmousemove (e) {\n      if (this.connecting) {\n        const offset =  {\n          x: (e.clientX - this.mousePrev.x) / this.zoom,\n          y: (e.clientY - this.mousePrev.y) / this.zoom\n        }\n        const anchor = this.connecting.input\n          ? this.activeEdge.fromAnchor\n          : this.activeEdge.toAnchor\n\n        anchor.x += offset.x\n        anchor.y += offset.y\n        this.mousePrev = { x: e.clientX, y: e.clientY }\n      }\n    }\n  },\n  computed: {\n    activeEdge: vm => vm.graph.edges\n      .find(e => e.active)\n  },\n  mounted () {\n    window.ports = this// DELETEME\n    this.graph.createNode({\n      id: 'a',\n      inputs: ['i1'],\n      outputs: ['o1', 'o2', 'o3', 'o4']\n    })\n    this.graph.createNode({\n      id: 'b',\n      inputs: ['i1', 'i2'],\n      outputs: ['o1', 'o2']\n    })\n    this.graph.createNode({\n      id: 'c',\n      inputs: ['i1', 'i2'],\n      outputs: ['o1', 'o2']\n    })\n    this.graph.createNode({\n      id: 'd',\n      inputs: ['i1', 'i2'],\n      outputs: ['o1', 'o2']\n    })\n    this.graph.createEdge({\n      from: 'a',\n      to: 'b',\n      fromPort: 'o1',\n      toPort: 'i1',\n      active: false,\n      type: 'hsmooth'\n    })\n    this.graph.createEdge({\n      from: 'a',\n      to: 'c',\n      fromPort: 'o1',\n      toPort: 'i1',\n      active: false,\n      type: 'hsmooth'\n    })\n    this.graph.createEdge({\n      from: 'c',\n      to: 'd',\n      fromPort: 'o1',\n      toPort: 'i1',\n      active: false,\n      type: 'hsmooth'\n    })\n    this.$nextTick(() => {\n      this.graph.graphNodes({ spacing: 75 })\n      this.$refs.screen.zoomNodes(this.graph.nodes, { scale: 1 })\n    })\n    document.addEventListener('mouseup', this.cancelConnect)\n    document.addEventListener('mousemove', this.onmousemove)\n  },\n  beforeDestroy () {\n    document.removeEventListener('mouseup', this.cancelConnect)\n    document.removeEventListener('mousemove', this.onmousemove)\n  },\n}\n</script>\n\n<style scoped>\n.port-inner {\n  width: 15px;\n  height: 15px;\n  border-radius: 10px;\n  background-color: red;\n  display: inline-block;\n  cursor: pointer;\n}\n\n.port-inner:hover {\n  background-color: blue;\n}\n\n.port-inner.connected {\n  background-color: yellow;\n}\n\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ports.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ports.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ports.vue?vue&type=template&id=4660697d&scoped=true&\"\nimport script from \"./Ports.vue?vue&type=script&lang=js&\"\nexport * from \"./Ports.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ports.vue?vue&type=style&index=0&id=4660697d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4660697d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo\"},[_c('div',{staticClass:\"viewport\"},[_c('screen',{ref:\"screen\"},[_vm._l((_vm.graph.edges),function(edge){return _c('edge',{key:edge.id,attrs:{\"data\":edge,\"nodes\":_vm.graph.nodes}})}),_vm._l((_vm.graph.nodes),function(node){return _c('node',{key:node.id,ref:\"node\",refInFor:true,attrs:{\"data\":node}})}),(_vm.graph.edges.length)?_c('v-label',{ref:\"label\",attrs:{\"edge\":_vm.graph.edges[0],\"perc\":parseInt(_vm.perc),\"offset\":{x: parseInt(_vm.offsetX), y: parseInt(_vm.offsetY)},\"align\":_vm.align,\"rotate\":_vm.rotate,\"connector\":_vm.connector,\"useDrag\":true},on:{\"drag\":_vm.onDrag}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.contents)}})]):_vm._e()],2)],1),_c('div',{staticClass:\"sidebar\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.contents),expression:\"contents\"}],attrs:{\"rows\":\"3\"},domProps:{\"value\":(_vm.contents)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.contents=$event.target.value},_vm.resizeLabel]}}),_c('div',[_vm._v(\"Position \"+_vm._s(_vm.perc))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.perc),expression:\"perc\"}],attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"100\"},domProps:{\"value\":(_vm.perc)},on:{\"__r\":function($event){_vm.perc=$event.target.value}}}),_c('div',[_vm._v(\"Offset { x : \"+_vm._s(parseInt(_vm.offsetX))+\", y: \"+_vm._s(parseInt(_vm.offsetY))+\" }\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.offsetX),expression:\"offsetX\"}],attrs:{\"type\":\"range\",\"min\":\"-100\",\"max\":\"100\"},domProps:{\"value\":(_vm.offsetX)},on:{\"__r\":function($event){_vm.offsetX=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.offsetY),expression:\"offsetY\"}],attrs:{\"type\":\"range\",\"min\":\"-100\",\"max\":\"100\"},domProps:{\"value\":(_vm.offsetY)},on:{\"__r\":function($event){_vm.offsetY=$event.target.value}}}),_c('div',[_vm._v(\"Align\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.align),expression:\"align\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.align=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"center\"}},[_vm._v(\"center\")]),_c('option',{attrs:{\"value\":\"top\"}},[_vm._v(\"top\")]),_c('option',{attrs:{\"value\":\"top-left\"}},[_vm._v(\"top-left\")]),_c('option',{attrs:{\"value\":\"top-right\"}},[_vm._v(\"top-right\")]),_c('option',{attrs:{\"value\":\"left\"}},[_vm._v(\"left\")]),_c('option',{attrs:{\"value\":\"right\"}},[_vm._v(\"right\")]),_c('option',{attrs:{\"value\":\"bottom\"}},[_vm._v(\"bottom\")]),_c('option',{attrs:{\"value\":\"bottom-left\"}},[_vm._v(\"bottom-left\")]),_c('option',{attrs:{\"value\":\"bottom-right\"}},[_vm._v(\"bottom-right\")])]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rotate),expression:\"rotate\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.rotate)?_vm._i(_vm.rotate,null)>-1:(_vm.rotate)},on:{\"change\":function($event){var $$a=_vm.rotate,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.rotate=$$a.concat([$$v]))}else{$$i>-1&&(_vm.rotate=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.rotate=$$c}}}}),_c('span',[_vm._v(\"Rotate\")])]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.connector),expression:\"connector\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.connector)?_vm._i(_vm.connector,null)>-1:(_vm.connector)},on:{\"change\":function($event){var $$a=_vm.connector,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.connector=$$a.concat([$$v]))}else{$$i>-1&&(_vm.connector=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.connector=$$c}}}}),_c('span',[_vm._v(\"Connector\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{staticClass:\"label\"},[(_vm.connector)?_c('path',{staticClass:\"edge\",attrs:{\"d\":(\"M \" + (_vm.pos.x) + \" \" + (_vm.pos.y) + \" L \" + (_vm.node.x + _vm.node.width / 2) + \" \" + (_vm.node.y + _vm.node.height / 2))}}):_vm._e(),_c('node',{ref:\"node\",style:(_vm.nodeTransform),attrs:{\"data\":_vm.node,\"useDrag\":_vm.useDrag},on:{\"drag\":function (e) { return _vm.$emit('drag', e); }}},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <g class=\"label\">\n    <path v-if=\"connector\" class=\"edge\"\n      :d=\"`M ${pos.x} ${pos.y} L ${node.x + node.width / 2} ${node.y + node.height / 2}`\">\n    </path>\n    <node ref=\"node\"\n      :data=\"node\"\n      :useDrag=\"useDrag\"\n      :style=\"nodeTransform\"\n      @drag=\"e => $emit('drag', e)\">\n        <slot>\n        </slot>\n    </node>\n  </g>\n</template>\n\n<script>\nimport { v4 as uuidv4 } from 'uuid'\nimport Node from './Node'\nexport default {\n  components: {\n    Node,\n  },\n  props: {\n    edge: {\n      type: Object,\n      required: true // { id, pathd }\n    },\n    perc: {\n      type: Number,\n      default: 50\n    },\n    offset: {\n      type: Object,\n      default: () => ({x: 0, y: 0})\n    },\n    align: {\n      type: String,\n      default: 'center'\n    },\n    rotate: {\n      type: Boolean,\n      default: false\n    },\n    useDrag: {\n      type: Boolean,\n      default: false\n    },\n    connector: {\n      type: Boolean,\n      default: false,\n    }\n  },\n  data() {\n    return {\n      pos: { x: 0, y: 0 },\n      node: { id: uuidv4() ,x: 250, y: 0, width: 100, height: 100},\n      angle: 0,\n    }\n  },\n  mounted () {\n    this.$nextTick(this.getPosition)\n  },\n  methods: {\n    getPosition () {\n      const el = document.getElementById(this.edge.id)\n      if (!el) {\n        throw `element not found: ${this.edge.id}`\n      }\n      const length = el.getTotalLength() * this.perc / 100\n      this.pos = el.getPointAtLength(length)\n\n      if (this.rotate) {\n        const delta = el.getPointAtLength(Math.min(length + 0.01), el.getTotalLength)\n        this.angle = Math.atan2(delta.y - this.pos.y, delta.x - this.pos.x);\n      } else {\n        this.angle = 0\n      }\n    },\n    updateNodePos () {\n      const align =  { x: 0, y: 0}\n      if (this.align === 'center') { align.x = this.node.width / 2; align.y = this.node.height / 2; }\n      else if (this.align === 'top') align.x = this.node.width / 2\n      else if (this.align === 'top-right') align.x = node.width;\n      else if (this.align === 'left') align.y = this.node.height / 2;\n      else if (this.align === 'right') { align.x = this.node.width; align.y = this.node.height / 2; }\n      else if (this.align === 'bottom-left') { align.y = this.node.height }\n      else if (this.align === 'bottom') { align.x = this.node.width / 2; align.y = this.node.height }\n      else if (this.align === 'bottom-right') { align.x = this.node.width; align.y = this.node.height }\n\n      this.node.x = this.pos.x + this.offset.x - align.x\n      this.node.y = this.pos.y + this.offset.y - align.y\n    },\n  },\n  computed: {\n    nodeTransform: vm => `\n        transform-origin: ${vm.node.x + vm.node.width / 2}px ${vm.node.y + vm.node.height}px;\n        transform: rotate(${vm.angle}rad);`,\n  },\n  watch: {\n    edge: {\n      deep: true,\n      handler: 'getPosition'\n    },\n    perc: 'getPosition',\n    pos: 'updateNodePos',\n    'node.width': 'updateNodePos',\n    'node.height': 'updateNodePos',\n    'offset': 'updateNodePos',\n    'offset': 'updateNodePos',\n    'align': 'updateNodePos',\n    'rotate': 'getPosition'\n  },\n}\n</script>\n\n<style>\n.label .node .content {\n  background-color: #bbe4bb;\n}\n.label .edge {\n  stroke: #286f28;\n  stroke-width: 3;\n  stroke-dasharray: 4;\n}\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Label.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Label.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Label.vue?vue&type=template&id=0a97c873&\"\nimport script from \"./Label.vue?vue&type=script&lang=js&\"\nexport * from \"./Label.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Label.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"demo\">\n    <div class=\"viewport\">\n      <screen ref=\"screen\">\n        <edge v-for=\"edge in graph.edges\" :data=\"edge\" :nodes=\"graph.nodes\" :key=\"edge.id\">\n        </edge>\n        <node :data=\"node\" ref=\"node\" v-for=\"node in graph.nodes\" :key=\"node.id\">\n        </node>\n\n        <v-label v-if=\"graph.edges.length\"\n          :edge=\"graph.edges[0]\"\n          :perc=\"parseInt(perc)\"\n          :offset=\"{x: parseInt(offsetX), y: parseInt(offsetY)}\"\n          :align=\"align\"\n          :rotate=\"rotate\"\n          :connector=\"connector\"\n          :useDrag=\"true\"\n          ref=\"label\"\n          @drag=\"onDrag\">\n            <div v-html=\"contents\"></div>\n        </v-label>\n      </screen>\n    </div>\n    <div class=\"sidebar\">\n      <textarea rows=\"3\" v-model=\"contents\" @input=\"resizeLabel\"></textarea>\n      <div>Position {{ perc }}</div>\n      <input type=\"range\" v-model=\"perc\" min=\"0\" max=\"100\">\n      <div>Offset { x : {{ parseInt(offsetX) }}, y: {{ parseInt(offsetY) }} }</div>\n      <input type=\"range\" v-model=\"offsetX\" min=\"-100\" max=\"100\">\n      <input type=\"range\" v-model=\"offsetY\" min=\"-100\" max=\"100\">\n      <div>Align</div>\n      <select v-model=\"align\">\n        <option value=\"center\">center</option>\n        <option value=\"top\">top</option>\n        <option value=\"top-left\">top-left</option>\n        <option value=\"top-right\">top-right</option>\n        <option value=\"left\">left</option>\n        <option value=\"right\">right</option>\n        <option value=\"bottom\">bottom</option>\n        <option value=\"bottom-left\">bottom-left</option>\n        <option value=\"bottom-right\">bottom-right</option>\n      </select>\n      <div><input type=\"checkbox\" v-model=\"rotate\"><span>Rotate</span></div>\n      <div><input type=\"checkbox\" v-model=\"connector\"><span>Connector</span></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Screen from '../components/Screen'\nimport Node from '../components/Node'\nimport Edge from '../components/Edge'\nimport graph from '../graph'\nimport VLabel from '../components/Label'\n\nexport default {\n  components: {\n    Screen,\n    Node,\n    Edge,\n    VLabel\n  },\n  data() {\n    return {\n      graph: new graph(),\n      perc: 50,\n      offsetX: 0,\n      offsetY: 0,\n      align: 'center',\n      rotate: false,\n      connector: true,\n      contents: '<small style=\"padding: 10px\">Label</small>'\n    }\n  },\n  methods: {\n    resizeLabel() {\n      this.$refs.label.$refs.node.fitContent();\n    },\n    onDrag (d) {\n      this.offsetX += d.x || 0\n      this.offsetY += d.y || 0\n      this.offsetX = Math.max(Math.min(this.offsetX, 100), -100)\n      this.offsetY = Math.max(Math.min(this.offsetY, 100), -100)\n    }\n  },\n  mounted () {\n    this.graph.createNode('A')\n    this.graph.createNode({\n      id: 'B',\n      x: 450,\n      y: 100\n    })\n    this.graph.createEdge({\n      from: 'A',\n      to: 'B',\n      fromAnchor: 'right',\n      toAnchor: 'left',\n      type: 'smooth'\n    })\n\n    this.$nextTick(() => {\n      this.$refs.screen.zoomNodes(this.graph.nodes)\n    })\n  }\n}\n</script>\n\n<style>\n/* // #benchmark-demo\n//   .node .content\n//     background-color: #47696e;\n//     color: white;\n//   .node:hover .content\n//     background-color red\n//   .edge\n//     stroke #ccc\n//     stroke-width 4\n//     marker-end: none\n//   .edge:hover\n//     stroke: red */\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Labels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Labels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Labels.vue?vue&type=template&id=ba2de5ba&\"\nimport script from \"./Labels.vue?vue&type=script&lang=js&\"\nexport * from \"./Labels.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Labels.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo\",attrs:{\"id\":\"benchmark-demo\"}},[_c('div',{staticClass:\"viewport\"},[_c('screen',{ref:\"screen\"},[_vm._l((_vm.graph.edges),function(edge){return _c('edge',{key:edge.id,attrs:{\"data\":edge,\"nodes\":_vm.graph.nodes}})}),_vm._l((_vm.graph.nodes),function(node){return _c('node',{key:node.id,ref:\"node\",refInFor:true,attrs:{\"data\":node}})})],2)],1),_c('div',{staticClass:\"sidebar\"},[_c('div',{ref:\"fps\",staticStyle:{\"margin-bottom\":\"10px\"}}),_c('span',[_vm._v(\"Node Count\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nodeCount),expression:\"nodeCount\"}],attrs:{\"type\":\"number\",\"step\":\"25\"},domProps:{\"value\":(_vm.nodeCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nodeCount=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"demo\" id=\"benchmark-demo\">\n    <div class=\"viewport\">\n      <screen ref=\"screen\">\n        <edge v-for=\"edge in graph.edges\" :data=\"edge\" :nodes=\"graph.nodes\" :key=\"edge.id\">\n        </edge>\n        <node :data=\"node\" ref=\"node\" v-for=\"node in graph.nodes\" :key=\"node.id\">\n        </node>\n      </screen>\n    </div>\n    <div class=\"sidebar\">\n      <div ref=\"fps\" style=\"margin-bottom:10px\"></div>\n      <span>Node Count</span>\n      <input type=\"number\" v-model=nodeCount step=\"25\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport Screen from '../components/Screen'\nimport Node from '../components/Node'\nimport Edge from '../components/Edge'\nimport graph from '../graph'\nimport Stats from 'stats.js'\n\nexport default {\n  components: {\n    Screen,\n    Node,\n    Edge,\n  },\n  data() {\n    return {\n      graph: new graph(),\n      nodeCount: 100,\n    }\n  },\n  methods: {\n    makeGraph () {\n      this.graph.reset();\n      this.graph.createNode('0')\n      for (let i=1; i < this.nodeCount; i++) {\n        const parent = this.graph.nodes[Math.round(Math.random() * (this.graph.nodes.length - 1))]\n        const node = this.graph.createNode({\n          id: String(i),\n          x: Math.random() * this.nodeCount * 12,\n          y: Math.random() * this.nodeCount * 12\n        })\n        this.graph.createEdge(parent, node, { type: 'smooth' })\n      }\n      this.$refs.screen.zoomNodes(this.graph.nodes)\n    },\n  },\n  mounted () {\n    this.makeGraph()\n    const stats = new Stats()\n    stats.setMode(1)\n    stats.domElement.style.setProperty('position', 'relative')\n    this.$refs.fps.appendChild(stats.domElement)\n    function animate() {\n      stats.begin()\n      requestAnimationFrame(() => {\n        stats.end()\n        animate()\n      })\n    }\n    animate()\n  },\n  watch: {\n    nodeCount: 'makeGraph'\n  }\n}\n</script>\n\n<style>\n#benchmark-demo .node .content {\n  /* background-color #14c56a */\n  background-color: #47696e;\n  color: white;\n}\n#benchmark-demo .node:hover .content {\n  background-color: red;\n}\n#benchmark-demo .edge {\n  stroke: #ccc;\n  stroke-width: 4;\n  marker-end: none;\n}\n#benchmark-demo .edge:hover {\n  stroke: red;\n}\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Benchmark.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Benchmark.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Benchmark.vue?vue&type=template&id=3a8946b4&\"\nimport script from \"./Benchmark.vue?vue&type=script&lang=js&\"\nexport * from \"./Benchmark.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Benchmark.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo\",attrs:{\"id\":\"styles-demo\"}},[_c('div',{staticClass:\"viewport\"},[(_vm.visible)?_c('screen',{ref:\"screen\"},[_vm._l((_vm.graph.edges),function(edge){return _c('edge',{key:edge.id,attrs:{\"data\":edge,\"nodes\":_vm.graph.nodes}})}),_vm._l((_vm.graph.nodes),function(node){return _c('node',{key:node.id,ref:\"node\",refInFor:true,attrs:{\"data\":node}})})],2):_vm._e()],1),_c('div',{staticClass:\"sidebar\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.theme),expression:\"theme\"}],staticStyle:{\"height\":\"100%\"},domProps:{\"value\":(_vm.theme)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.theme=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"demo\" id=\"styles-demo\">\n    <div class=\"viewport\">\n      <screen ref=\"screen\" v-if=\"visible\">\n        <edge v-for=\"edge in graph.edges\" :data=\"edge\" :nodes=\"graph.nodes\" :key=\"edge.id\">\n        </edge>\n        <node :data=\"node\" ref=\"node\" v-for=\"node in graph.nodes\" :key=\"node.id\">\n        </node>\n      </screen>\n    </div>\n    <div class=\"sidebar\">\n      <textarea v-model=\"theme\" style=\"height: 100%\"></textarea>\n    </div>\n  </div>\n</template>\n\n<script>\nimport parse from 'css-parse'\nimport Screen from '../components/Screen'\nimport Node from '../components/Node'\nimport Edge from '../components/Edge'\nimport graph from '../graph'\n\nexport default {\n  components: {\n    Screen,\n    Node,\n    Edge,\n  },\n  data() {\n    return {\n      graph: new graph(),\n      visible: true,\n      theme: `\n.node .content {\n  background-color: pink;\n}\n`.trim(),\n    }\n  },\n  mounted () {\n    this.graph.createNode('a')\n    this.graph.createNode('b')\n    this.graph.createNode('c')\n    this.graph.createNode('d')\n    this.graph.createNode('e')\n    this.graph.createNode('f')\n    this.graph.createNode('g')\n    this.graph.createNode('h')\n    this.graph.createNode('i')\n\n    const fromAnchor = 'rect'\n    const toAnchor = 'rect'\n    this.graph.createEdge('a', 'b', {fromAnchor, toAnchor})\n    this.graph.createEdge('a', 'c', {fromAnchor, toAnchor})\n    this.graph.createEdge('a', 'd', {fromAnchor, toAnchor})\n    this.graph.createEdge('d', 'e', {fromAnchor, toAnchor})\n    this.graph.createEdge('e', 'f', {fromAnchor, toAnchor})\n    this.graph.createEdge('f', 'g', {fromAnchor, toAnchor})\n    this.graph.createEdge('f', 'h', {fromAnchor, toAnchor})\n    this.graph.createEdge('f', 'i', {fromAnchor, toAnchor})\n\n    this.graph.graphNodes({ type: 'tree' })\n    this.applyTheme();\n    window.t = this\n  },\n  methods: {\n    forceRender () {\n      this.visible = false\n      return this\n        .$nextTick()\n        .then(() => {\n          this.visible = true\n          this.$nextTick(() => {\n            this.$refs.screen.zoomNodes(this.graph.nodes, { scale: 1 })\n          })\n        })\n    },\n    async applyTheme () {\n\n      // TRY\n      // ref.$forceUpdate()\n      // ref.$mount()\n      let rules\n      try {\n        rules = parse(this.theme)\n          .stylesheet.rules\n          .filter(r => r.type === 'rule')\n      } catch (e) {\n        return;\n      }\n\n      await this.forceRender();\n      rules.forEach(rule => {\n        const sel = rule.selectors.length ? '#styles-demo ' + rule.selectors.join(', ') : ''\n        const els = [...document.querySelectorAll(sel)]\n        rule.declarations\n          .filter(dec => dec.type === 'declaration')\n          .forEach(dec => {\n            els.filter(el => el).forEach(el => {\n              const prop = dec.property.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n              el.style[prop] = dec.value\n            })\n          })\n      })\n    }\n  },\n  watch: {\n    theme: 'applyTheme'\n  }\n}\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Styles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Styles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Styles.vue?vue&type=template&id=14e0f19d&\"\nimport script from \"./Styles.vue?vue&type=script&lang=js&\"\nexport * from \"./Styles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demo\",attrs:{\"id\":\"group-demo\"}},[_c('div',{staticClass:\"viewport\"},[_c('screen',{ref:\"screen\"},[(_vm.groupNodes.length)?_c('group',{attrs:{\"nodes\":_vm.graph.nodes.filter(function (n) { return _vm.groupNodes.includes(n.id); }),\"padding\":{\n          left: parseInt(_vm.padding),\n          right: parseInt(_vm.padding),\n          top: parseInt(_vm.padding) + (_vm.label ? 50 : 0),\n          bottom: parseInt(_vm.padding)\n        }}},[(_vm.label)?_c('div',{staticClass:\"group-label\"},[_vm._v(\"\\n            Groups\\n          \")]):_vm._e()]):_vm._e(),_vm._l((_vm.graph.edges),function(edge){return _c('edge',{key:edge.id,attrs:{\"data\":edge,\"nodes\":_vm.graph.nodes}})}),_vm._l((_vm.graph.nodes),function(node){return _c('node',{key:node.id,ref:\"node\",refInFor:true,attrs:{\"data\":node}})})],2)],1),_c('div',{staticClass:\"sidebar\"},[_c('div',{staticClass:\"checkboxes\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"a\",\"value\":\"a\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,\"a\")>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"a\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\"A\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"b\",\"value\":\"b\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,\"b\")>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"b\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\"B\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"c\",\"value\":\"c\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,\"c\")>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"c\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\"C\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"d\",\"value\":\"d\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,\"d\")>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"d\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\"D\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"e\",\"value\":\"e\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,\"e\")>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"e\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\"E\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"f\",\"value\":\"f\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,\"f\")>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"f\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\"F\")]),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"g\",\"value\":\"g\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,\"g\")>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"g\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\"G\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.groupNodes),expression:\"groupNodes\"}],attrs:{\"type\":\"checkbox\",\"id\":\"h\",\"value\":\"h\"},domProps:{\"checked\":Array.isArray(_vm.groupNodes)?_vm._i(_vm.groupNodes,\"h\")>-1:(_vm.groupNodes)},on:{\"change\":function($event){var $$a=_vm.groupNodes,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"h\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.groupNodes=$$a.concat([$$v]))}else{$$i>-1&&(_vm.groupNodes=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.groupNodes=$$c}}}}),_c('span',[_vm._v(\"H\")])]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.label),expression:\"label\"}],attrs:{\"type\":\"checkbox\",\"id\":\"label\"},domProps:{\"checked\":Array.isArray(_vm.label)?_vm._i(_vm.label,null)>-1:(_vm.label)},on:{\"change\":function($event){var $$a=_vm.label,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.label=$$a.concat([$$v]))}else{$$i>-1&&(_vm.label=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.label=$$c}}}}),_c('span',[_vm._v(\"Label\")])]),_c('div',[_vm._v(\"Padding \"+_vm._s(_vm.padding))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.padding),expression:\"padding\"}],attrs:{\"type\":\"range\",\"min\":\"10\",\"max\":\"50\"},domProps:{\"value\":(_vm.padding)},on:{\"__r\":function($event){_vm.padding=$event.target.value}}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"demo\" id=\"group-demo\">\n    <div class=\"viewport\">\n      <screen ref=\"screen\">\n        <group v-if=\"groupNodes.length\"\n          :nodes=\"graph.nodes.filter(n => groupNodes.includes(n.id))\"\n          :padding=\"{\n            left: parseInt(padding),\n            right: parseInt(padding),\n            top: parseInt(padding) + (label ? 50 : 0),\n            bottom: parseInt(padding)\n          }\">\n            <div v-if=\"label\" class=\"group-label\">\n              Groups\n            </div>\n        </group>\n        <edge v-for=\"edge in graph.edges\" :data=\"edge\" :nodes=\"graph.nodes\" :key=\"edge.id\">\n        </edge>\n        <node :data=\"node\" ref=\"node\" v-for=\"node in graph.nodes\" :key=\"node.id\">\n        </node>\n      </screen>\n    </div>\n    <div class=\"sidebar\">\n      <div class=\"checkboxes\">\n        <input type=\"checkbox\" id=\"a\" value=\"a\" v-model=\"groupNodes\">\n        <span>A</span>\n        <input type=\"checkbox\" id=\"b\" value=\"b\" v-model=\"groupNodes\">\n        <span>B</span>\n        <input type=\"checkbox\" id=\"c\" value=\"c\" v-model=\"groupNodes\">\n        <span>C</span><br>\n        <input type=\"checkbox\" id=\"d\" value=\"d\" v-model=\"groupNodes\">\n        <span>D</span>\n        <input type=\"checkbox\" id=\"e\" value=\"e\" v-model=\"groupNodes\">\n        <span>E</span>\n        <input type=\"checkbox\" id=\"f\" value=\"f\" v-model=\"groupNodes\">\n        <span>F</span><br>\n        <input type=\"checkbox\" id=\"g\" value=\"g\" v-model=\"groupNodes\">\n        <span>G</span>\n        <input type=\"checkbox\" id=\"h\" value=\"h\" v-model=\"groupNodes\">\n        <span>H</span>\n      </div>\n      <div>\n        <input type=\"checkbox\" id=\"label\" v-model=\"label\">\n        <span>Label</span>\n      </div>\n      <div>Padding {{padding}}</div>\n      <input type=\"range\" v-model=\"padding\" min=\"10\" max=\"50\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport Screen from '../components/Screen'\nimport Node from '../components/Node'\nimport Edge from '../components/Edge'\nimport Group from '../components/Group'\nimport graph from '../graph'\n\nexport default {\n  components: {\n    Screen,\n    Node,\n    Edge,\n    Group,\n  },\n  data() {\n    return {\n      graph: new graph(),\n      groupNodes: ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],\n      padding: 10,\n      label: true\n    }\n  },\n  methods: {\n  },\n  mounted () {\n    this.graph.createNode('a')\n    this.graph.createNode('b')\n    this.graph.createNode('c')\n    this.graph.createNode({id: 'd', x: -51, y: 90})\n    this.graph.createNode({id: 'e', x: -50, y: -100})\n    this.graph.createNode({id: 'f', x: 290, y: -90})\n    this.graph.createNode({id: 'g', x: 300, y: 95})\n    this.graph.createNode({id: 'h', x: 200, y: 0})\n\n    this.graph.createEdge('a', 'b', {fromAnchor: 'rect', toAnchor: 'rect'})\n    this.graph.createEdge('a', 'c', {fromAnchor: 'rect', toAnchor: 'rect'})\n\n    this.graph.graphNodes({ type: 'tree' })\n    this.$nextTick(() => {\n      this.$refs.screen.zoomNodes(this.graph.nodes, { scale: 0.9 })\n    })\n  },\n}\n</script>\n\n<style scoped>\n.checkboxes input {\n  display: inline\n}\n.checkboxes label {\n  display: inline;\n  margin-right: 10px\n}\n</style>\n\n<style>\n.group-label {\n  font-weight: bold;\n  color: #fff;\n  padding: 10px;\n  margin: 0;\n  background-color: #183e5280;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Groups.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Groups.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Groups.vue?vue&type=template&id=36c7df34&scoped=true&\"\nimport script from \"./Groups.vue?vue&type=script&lang=js&\"\nexport * from \"./Groups.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Groups.vue?vue&type=style&index=0&id=36c7df34&scoped=true&lang=css&\"\nimport style1 from \"./Groups.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36c7df34\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"margin-top: 50px; margin-bottom: 50px\">\n    <h1>Vnodes</h1>\n\n    <h2>\n      Sink <a href=\"https://github.com/txlabs/vnodes/blob/master/src/demo/Sink.vue\" target=\"_blank\">&lt;/&gt;</a>\n    </h2>\n    <sink>\n    </sink>\n<!--\n    <h2>CSS <a href=\"https://github.com/txlabs/vnodes/blob/master/src/demo/Styles.vue\" target=\"_blank\">&lt;/&gt;</a></h2>\n    <styles>\n    </styles> -->\n\n    <h2>Edit <a href=\"https://github.com/txlabs/vnodes/blob/master/src/demo/Edit.vue\" target=\"_blank\">&lt;/&gt;</a></h2>\n    <edit>\n    </edit>\n\n    <h2>Ports <a href=\"https://github.com/txlabs/vnodes/blob/master/src/demo/Ports.vue\" target=\"_blank\">&lt;/&gt;</a></h2>\n    <ports>\n    </ports>\n\n    <!-- <h2>Groups <a href=\"https://github.com/txlabs/vnodes/blob/master/src/demo/Groups.vue\" target=\"_blank\">&lt;/&gt;</a></h2>\n    <groups>\n    </groups> -->\n\n    <h2>Labels <a href=\"https://github.com/txlabs/vnodes/blob/master/src/demo/Labels.vue\" target=\"_blank\">&lt;/&gt;</a></h2>\n    <labels>\n    </labels>\n\n    <h2>Benchpress <a href=\"https://github.com/txlabs/vnodes/blob/master/src/demo/Benchmark.vue\" target=\"_blank\">&lt;/&gt;</a></h2>\n    <benchpress>\n    </benchpress>\n  </div>\n</template>\n\n<script>\nimport Sink from './Sink'\nimport Edit from './Edit'\nimport Ports from './Ports'\nimport Labels from './Labels'\nimport Benchpress from './Benchmark'\nimport Styles from './Styles'\nimport Groups from './Groups'\nexport default {\n  components: {\n    Sink,\n    Edit,\n    Ports,\n    Labels,\n    Benchpress,\n    Styles,\n    Groups,\n  },\n}\n</script>\n\n<style scoped>\nh2 {\n  margin-top: 50px;\n  width: calc(100% - 225px);\n}\nh2 a {\n  color: #4a4a4a;\n  font-size: 0.75em;\n  float: right\n}\n</styles>\n\n<style>\n.screen {\n  background-color: white;\n}\nh2 {\n  font-size: 1.5em;\n}\nbody {\n  background-color: #f9f9f9;\n  max-width: 56em;\n}\n.demo {\n  display: flex;\n}\n.viewport {\n  height: 500px;\n  flex-grow: 1;\n}\n.sidebar {\n  padding-left: 20px;\n  width: 200px;\n  max-width: 200px;\n  flex-shrink: 0;\n}\n@media only screen and (max-width: 1000px) {\n  /* .demo {\n    flex-flow: column wrap;\n  }\n  .viewport {\n    width: 100%;\n  }\n  .sidebar {\n    max-width: 100%;\n    width: 100%;\n    padding: 0;\n    margin-top: 20px;\n  } */\n}\n</style>\n","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Demo.vue?vue&type=template&id=01f32cc6&scoped=true&\"\nimport script from \"./Demo.vue?vue&type=script&lang=js&\"\nexport * from \"./Demo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Demo.vue?vue&type=style&index=0&id=01f32cc6&scoped=true&lang=css&\"\nimport style1 from \"./Demo.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01f32cc6\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Demo from './demo/Demo.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(Demo)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Node.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Node.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Groups.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Groups.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Labels.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Labels.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Screen.vue?vue&type=style&index=0&id=688d0d2c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Screen.vue?vue&type=style&index=0&id=688d0d2c&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Port.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Port.vue?vue&type=style&index=0&lang=css&\"","<template>\n  <div class=\"demo\" id=\"edit-demo\">\n    <div class=\"viewport\" @click=\"select(null)\" @mousedown.capture=\"blockEvents\" @wheel.capture=\"blockEvents\">\n      <screen ref=\"screen\">\n        <g v-for=\"edge in graph.edges\" @click.stop=\"select(edge)\" :key=\"edge.id\">\n          <edge :class=\"selection && selection.id === edge.id && 'selected'\"\n            :data=\"edge\"\n            :nodes=\"graph.nodes\">\n          </edge>\n        </g>\n        <g v-for=\"node in graph.nodes\" :key=\"node.id\">\n          <node :data=\"node\" ref=\"node\" :class=\"isSelected(node) && 'selected'\" :textSelect=\"node.textSelect\" :useDrag=\"node.useDrag\">\n            <div v-html=\"node.html\" @click.stop=\"select(node)\">\n            </div>\n          </node>\n        </g>\n      </screen>\n    </div>\n    <div class=\"sidebar\">\n      <codemirror v-model=\"editText\" :options=\"{\n          mode: 'text/javascript',\n          theme: 'default',\n          lineWrapping: true,\n          scrollbarStyle: null,\n          styleActiveLine: true,\n          line: true,\n        }\"\n        style=\"font-size: 13.3333px; font-family: monospace; -webkit-text-size-adjust: 100%; height: 100%\"\n      ></codemirror>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Screen from '../components/Screen'\nimport Node from '../components/Node'\nimport Edge from '../components/Edge'\nimport graph from '../graph'\nimport pretty from 'pretty'\nimport stringify from 'javascript-stringify'\nimport { codemirror } from 'vue-codemirror'\nimport 'codemirror/mode/javascript/javascript.js'\nimport 'codemirror/lib/codemirror.css'\n\nexport default {\n  components: {\n    Screen,\n    Node,\n    Edge,\n    codemirror\n  },\n  data() {\n    return {\n      graph: new graph(),\n      selection: null,\n      editText: '/* click on a node or edge to start editing */',\n    }\n  },\n  methods: {\n    select (obj) {\n      this.selection = obj\n      if (!this.selection) {\n        this.editText = '/* click on a node or edge to start editing */'\n        return\n      }\n      const editText = { ...obj }\n      delete editText.pathd\n      if (editText.html) {\n        editText.html = \"\\n\" + pretty(editText.html) + \"\\n\"\n      }\n      this.editText = stringify(editText, null, 2)\n        .replace(/\\\\n/g, \"\\n\")\n        .replace(/html: '([^]*)\\s'/g, 'html: `$1\\n`')\n    },\n    applyChanges () {\n      if (!this.selection) {\n        return\n      }\n      try {\n        const edit = eval('('+this.editText+')')\n        Object.assign(this.selection, edit)\n        this.$nextTick(() => {\n          this.$refs.node.forEach(node => {\n            node.fitContent()\n          })\n        })\n      } catch (_) {\n        console.log('TODO invalid code')\n      }\n    },\n    isSelected (node) {\n      return this.selection\n        && this.selection.id === node.id\n    },\n    /**\n     * HACKS\n     * support shortcut .no-drag and .no-wheel classes\n     * to disable dragging and mouse-wheel behavior from editable html\n     */\n    blockEvents (e) {\n      const path = e.path || e.composedPath?.();\n      if (path?.find(el => el.classList?.contains('no-drag'))) { // @mousedown\n        const pz = this.$refs.screen.panzoom\n        pz.options.preventMouseEventsDefault = false // enable default events (text select, input click)\n        document.addEventListener('mouseup', () => {\n          pz.options.preventMouseEventsDefault = true\n        }, { once: true })\n        e.stopPropagation() // disable node drag\n      }\n      if (path?.find(el => el.classList?.contains('no-wheel'))) { // @wheel\n        e.stopPropagation() // disable wheel zoom\n      }\n    },\n  },\n  mounted () {\n    this.graph.createNode({\n      id: 'a',\n      html: '<h5>A</h5>'\n    })\n    this.graph.createNode({\n      id: 'b',\n      x: 200,\n      y: 200,\n      textSelect: false,\n      useDrag: true,\n      html:\n      `<div><h4>B</h4><p>Subtitle</p><button>Yo</button></div>`\n    })\n    this.graph.createNode({\n      id: 'c',\n      x: -100,\n      y: 150,\n      textSelect: false,\n      useDrag: true,\n      html: `<div> <h4>okay</h4> <textarea type=\"text\" class=\"no-drag\">Some text here</textarea><br/><select class=\"no-drag\" name=\"cars\" id=\"cars\"><option value=\"volvo\">Volvo</option><option value=\"saab\">Saab</option><option value=\"mercedes\">Mercedes</option><option value=\"audi\">Audi</option></select></div>`\n    })\n    this.graph.createNode({\n      id: 'd',\n      x: 340,\n      textSelect: false,\n      useDrag: true,\n      html: `<div>Okay</div>`\n    })\n    this.graph.createEdge({\n      id: 'a:b',\n      from: 'a',\n      to: 'b',\n      toAnchor: { x: '50%', y: '50%', snap: 'rect' },\n      type: 'smooth'\n    })\n    this.graph.createEdge({ id: 'c:d', from: 'c', to: 'd', type: 'smooth' })\n    this.$nextTick(() => {\n      this.$refs.screen.zoomNodes(this.graph.nodes, {scale: 1})\n    })\n  },\n  watch: {\n    editText: 'applyChanges',\n  },\n}\n</script>\n\n<style>\n#edit-demo .CodeMirror {\n  width: 100%;\n  height: 500px;\n  margin: 0;\n  overflow: hidden;\n  position: relative;\n  background-color: #f1f1f1;\n  border: 1px solid #f1f1f1;\n}\n#edit-demo .node .background {\n  /* background-color: #ccc; */\n}\n\n#edit-demo .node .content > div {\n  padding: 25px;\n}\n\n#edit-demo .node .content h4,h5,p {\n  margin: 0\n}\n\n#edit-demo .node:hover .background {\n  background-color: rgb(90 200 90);\n}\n\n#edit-demo .node.selected .content {\n  background-color: rgba(100, 200, 100, 1);\n  box-shadow: 0px 0px 0px 2px #333;\n}\n\n#edit-demo .node .content {\n  cursor: pointer;\n}\n\n#edit-demo .edge {\n  cursor: pointer;\n}\n#edit-demo .edge:hover {\n  /* stroke-width: 4 */\n  stroke: rgb(90 200 90)\n}\n#edit-demo .edge.selected {\n  /* stroke-width: 4 */\n  stroke: #333\n}\n</style>","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Groups.vue?vue&type=style&index=0&id=36c7df34&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Groups.vue?vue&type=style&index=0&id=36c7df34&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Label.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Label.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edge.vue?vue&type=style&index=0&id=76b384de&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edge.vue?vue&type=style&index=0&id=76b384de&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('foreignObject',{staticClass:\"node\",class:!_vm.fit && 'fill',attrs:{\"x\":_vm.data.x - _vm.margin,\"y\":_vm.data.y - _vm.margin,\"width\":_vm.data.width + _vm.margin * 2,\"height\":_vm.data.height + _vm.margin * 2},on:{\"mousedown\":_vm.onMousedown}},[_c('div',{staticClass:\"outer\",style:((\"padding: \" + _vm.margin + \"px;\"))},[_c('div',{ref:\"content\",staticClass:\"content\",class:_vm.background && 'background'},[(!_vm.$slots.default)?_c('div',{staticClass:\"default-label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.data.id)+\"\\n        \")]):_vm._e(),_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <foreignObject\n    class=\"node\"\n    :class=\"!fit && 'fill'\"\n    :x=\"data.x - margin\"\n    :y=\"data.y - margin\"\n    :width=\"data.width + margin * 2\"\n    :height=\"data.height + margin * 2\"\n    @mousedown=\"onMousedown\">\n      <div class=\"outer\" :style=\"`padding: ${margin}px;`\">\n        <div class=\"content\" :class=\"background && 'background'\" ref=\"content\">\n          <div v-if=\"!$slots.default\" class=\"default-label\">\n            {{ data.id }}\n          </div>\n          <slot>\n          </slot>\n        </div>\n      </div>\n  </foreignObject>\n</template>\n<\n<script>\nimport dragMixin from '../mixins/drag'\nexport default {\n  mixins: [\n    dragMixin\n  ],\n  props: {\n    data: {\n      // { x, y, width, height }\n    },\n    margin: { // margin allows to display borders, shadow etc without clipping contents\n      type: Number,\n      default: 10,\n    },\n    useDrag: { // use default drag behavior\n      type: Boolean,\n      default: true\n    },\n    fit: {  // fit node width/height when mounted\n      type: Boolean,\n      default: true\n    },\n    background: { // show background\n      type: Boolean,\n      default: true\n    },\n    textSelect: { // allow text selection\n      type: Boolean,\n      default: false\n    },\n  },\n  mounted () {\n    if (this.fit) {\n      this.fitContent()\n    }\n    this.$on('drag', ({ x, y }) => {\n      this.data.x += x\n      this.data.y += y\n    })\n  },\n  methods: {\n    fitContent () {\n      this.data.width = this.$refs.content.offsetWidth\n      this.data.height = this.$refs.content.offsetHeight\n    },\n    onMousedown (e) {\n      if (!this.textSelect) {\n        e.preventDefault() // prevent text select\n      }\n      if (this.useDrag) {\n        e.stopPropagation() // prevent viewport drag\n        this.startDrag(e)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.node .content {\n  position: relative;\n  white-space: nowrap;\n  width: fit-content;\n}\n\n.node .background {\n  background-color: rgba(100, 200, 100, .9);\n  border-radius: 7px;\n}\n\n.node.fill .outer,\n.node.fill .content,\n.node.fill .content > * {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n\n.default-label {\n  font-weight: bold;\n  width: auto;\n  height: auto;\n  min-width: 30px;\n  min-height: 30px;\n  line-height: 30px;\n  padding: 10px;\n  text-align: center;\n}\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Node.vue?vue&type=template&id=407ae22b&\"\nimport script from \"./Node.vue?vue&type=script&lang=js&\"\nexport * from \"./Node.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Node.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * Simple algorithm to position node on graph\n * Starts looking for position in front of the parent\n * While collisions are detected find empty position perpendicular to collision\n */\nfunction findPosition (node, parent, align=\"right\", nodes, sep={ x: 40, y: 40 }, invertOffset=false) {\n  const sepX = sep.x || sep\n  const sepY = sep.y || sep\n  const startX = !parent ? 0\n    : (align === 'down' || align === 'up')\n    ? parent.x\n    : align === 'right'\n    ? parent.x + parent.width + sepX\n    : align === 'left'\n    ? parent.x - node.width - sepX\n    : -1\n\n  const startY = !parent ? 0\n    : (align === 'right' || align === 'left')\n      ? parent.y\n    : align === 'down'\n      ? parent.y + parent.height + sepY\n    : align === 'up'\n      ? parent.y - node.height - sepY\n    : -1\n\n  const alignV = align === 'down' || align === 'up'\n  const alignH = align === 'right' || align === 'left'\n  const offsetX = alignV ? sepX * (invertOffset ? -1 : 1) : 0\n  const offsetY = alignH ? sepY * (invertOffset ? -1 : 1) : 0\n\n  const boxes = (nodes).filter(n => n.id !== node.id)\n  const box = { x: startX, y: startY, width: node.width, height: node.height }\n\n  let cols = boxBoxes(box, boxes)\n  while (cols.length) {\n    const col = cols[0]\n    if (offsetX) {\n      box.x = col.x + offsetX + (offsetX > 0 ? col.width : -node.width)\n    } else {\n      box.y = col.y + offsetY + (offsetY > 0 ? col.height : -node.height)\n    }\n    cols = boxBoxes(box, boxes)\n  }\n\n  return { x: box.x, y: box.y }\n}\n\nfunction boxBox(a, b) {\n  return a.x < b.x + b.width && a.x + a.width > b.x && a.y < b.y + b.height && a.y + a.height > b.y\n}\n\nfunction boxBoxes(box, boxes) {\n  return boxes.filter(b => boxBox(b, box))\n}\n\nfunction createDAG (nodes, edges) {\n  const _nodes = nodes.map(node => ({\n    id: node.id,\n    x: node.x,\n    y: node.y,\n    width: node.width,\n    height: node.height,\n    parentIds: [],\n    children: []\n  }))\n\n  const visited = {}\n  edges.forEach(c => {\n    if (visited[c.from+c.to]) return\n    visited[c.from+c.to] = true\n\n    const from = _nodes.find(node => node.id === c.from)\n    const to = _nodes.find(node => node.id === c.to)\n    if (from && to) {\n      from.children.push(to)\n      to.parentIds.push(from.id)\n    }\n  })\n\n  removeCycles(_nodes)\n  return _nodes\n}\n\n/**\n * Detect and remove cycles from graph\n */\nconst removeCycles = (nodes) => {\n  const cycles = []\n  const unvisited = node => node.state === 0\n  const visiting = node => node.state === 1\n  const visited = node => node.state === 2\n  nodes.forEach(node => { node.state = 0 })\n\n  const visit = (node) => {\n    node.state = 1 // visiting\n    node.children.forEach(child => {\n      if (visited(child)) return\n      if (visiting(child)) {\n        // FOUND CYCLE\n        node.children.splice(node.children.indexOf(child), 1)\n        child.parentIds.splice(child.parentIds.indexOf(node.id), 1)\n        cycles.push(`${child.id}:${node.id}`)\n      } else {\n        visit(child)\n      }\n    })\n    node.state = 2 // visited\n  }\n\n  nodes.forEach(node => {\n    if (unvisited(node)) {\n      visit(node)\n    }\n  })\n\n  return cycles\n}\n\n// convert dag into structure for flextree layout\nconst dagToFlextree = (node, graph, flipXY=false, spacing=40) => {\n  const entry = {\n    id: node.id,\n    size: [\n      (flipXY ? node.height : node.width) + spacing,\n      (flipXY ? node.width: node.height) + spacing\n    ],\n    children: []\n  }\n  graph.push(entry)\n  node.children.forEach(child => {\n    dagToFlextree(child, entry.children, flipXY, spacing)\n  })\n}\n\nconst eps = 0.0000001;\nfunction between(a, b, c) {\n  return a - eps <= b && b <= c + eps;\n}\n\nfunction lineLine(x1, y1, x2, y2, x3, y3, x4, y4) {\n  var x = ((x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4)) /\n    ((x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4));\n  var y = ((x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4)) /\n    ((x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4));\n  if (isNaN(x) || isNaN(y)) {\n    return false;\n  } else {\n    if (x1 >= x2) {\n      if (!between(x2, x, x1)) {\n        return false;\n      }\n    } else {\n      if (!between(x1, x, x2)) {\n        return false;\n      }\n    }\n    if (y1 >= y2) {\n      if (!between(y2, y, y1)) {\n        return false;\n      }\n    } else {\n      if (!between(y1, y, y2)) {\n        return false;\n      }\n    }\n    if (x3 >= x4) {\n      if (!between(x4, x, x3)) {\n        return false;\n      }\n    } else {\n      if (!between(x3, x, x4)) {\n        return false;\n      }\n    }\n    if (y3 >= y4) {\n      if (!between(y4, y, y3)) {\n        return false;\n      }\n    } else {\n      if (!between(y3, y, y4)) {\n        return false;\n      }\n    }\n  }\n  return { x, y }\n}\n\nexport default {\n  findPosition,\n  createDAG,\n  dagToFlextree,\n  boxBox,\n  boxBoxes,\n  lineLine\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Demo.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}